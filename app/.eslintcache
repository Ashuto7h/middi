[{"/Users/mike/Documents/middi/app/src/index.js":"1","/Users/mike/Documents/middi/app/src/reportWebVitals.js":"2","/Users/mike/Documents/middi/app/src/state/appReducer.ts":"3","/Users/mike/Documents/middi/app/src/state/initialState.ts":"4","/Users/mike/Documents/middi/app/src/components/ChatBox.tsx":"5","/Users/mike/Documents/middi/app/src/App.js":"6","/Users/mike/Documents/middi/app/src/components/Message.tsx":"7","/Users/mike/Documents/middi/app/src/components/ActionButton.tsx":"8","/Users/mike/Documents/middi/app/src/state/dispatchHelper.ts":"9","/Users/mike/Documents/middi/app/src/components/Loading.tsx":"10","/Users/mike/Documents/middi/app/src/components/RegisterForm.tsx":"11","/Users/mike/Documents/middi/app/src/types.ts":"12","/Users/mike/Documents/middi/app/src/sequences/introduction.ts":"13","/Users/mike/Documents/middi/app/src/sequences/auth.ts":"14","/Users/mike/Documents/middi/app/src/components/LoginForm.tsx":"15","/Users/mike/Documents/middi/app/src/state/api.ts":"16","/Users/mike/Documents/middi/app/src/sequences/habits.ts":"17","/Users/mike/Documents/middi/app/src/components/AddHabitForm.tsx":"18","/Users/mike/Documents/middi/app/src/components/ColorSelect.tsx":"19","/Users/mike/Documents/middi/app/src/components/HabitList.tsx":"20","/Users/mike/Documents/middi/app/src/components/HabitListItem.tsx":"21","/Users/mike/Documents/middi/app/src/env.ts":"22","/Users/mike/Documents/middi/app/src/state/modifiers.ts":"23","/Users/mike/Documents/middi/app/src/utils/utils.ts":"24","/Users/mike/Documents/middi/app/src/components/HabitCompleteToggle.tsx":"25","/Users/mike/Documents/middi/app/src/components/Habits.tsx":"26","/Users/mike/Documents/middi/app/src/components/HabitOverview.tsx":"27","/Users/mike/Documents/middi/app/src/components/GoalAchievementParty.tsx":"28","/Users/mike/Documents/middi/app/src/components/Overview.tsx":"29","/Users/mike/Documents/middi/app/src/components/OverviewChart.tsx":"30"},{"size":500,"mtime":1607646375032,"results":"31","hashOfConfig":"32"},{"size":362,"mtime":1607646375033,"results":"33","hashOfConfig":"32"},{"size":1989,"mtime":1608134469386,"results":"34","hashOfConfig":"32"},{"size":214,"mtime":1607958676475,"results":"35","hashOfConfig":"32"},{"size":1512,"mtime":1608063220509,"results":"36","hashOfConfig":"32"},{"size":1233,"mtime":1608063235585,"results":"37","hashOfConfig":"32"},{"size":2184,"mtime":1608054978114,"results":"38","hashOfConfig":"32"},{"size":357,"mtime":1607736862096,"results":"39","hashOfConfig":"32"},{"size":136,"mtime":1607740291105,"results":"40","hashOfConfig":"32"},{"size":293,"mtime":1607742098839,"results":"41","hashOfConfig":"32"},{"size":3015,"mtime":1608124469589,"results":"42","hashOfConfig":"32"},{"size":1568,"mtime":1608133799395,"results":"43","hashOfConfig":"32"},{"size":2355,"mtime":1609622611393,"results":"44","hashOfConfig":"32"},{"size":4041,"mtime":1609627263073,"results":"45","hashOfConfig":"32"},{"size":3334,"mtime":1608139917516,"results":"46","hashOfConfig":"32"},{"size":3382,"mtime":1608140787754,"results":"47","hashOfConfig":"32"},{"size":8430,"mtime":1608149141031,"results":"48","hashOfConfig":"32"},{"size":5044,"mtime":1608141833598,"results":"49","hashOfConfig":"32"},{"size":1273,"mtime":1608141286545,"results":"50","hashOfConfig":"32"},{"size":700,"mtime":1607996787499,"results":"51","hashOfConfig":"32"},{"size":709,"mtime":1608124790138,"results":"52","hashOfConfig":"32"},{"size":443,"mtime":1608081280278,"results":"53","hashOfConfig":"32"},{"size":1426,"mtime":1608134493552,"results":"54","hashOfConfig":"32"},{"size":292,"mtime":1608134602471,"results":"55","hashOfConfig":"32"},{"size":3453,"mtime":1608134420134,"results":"56","hashOfConfig":"32"},{"size":1589,"mtime":1608069651795,"results":"57","hashOfConfig":"32"},{"size":5566,"mtime":1608141117013,"results":"58","hashOfConfig":"32"},{"size":1957,"mtime":1608134294779,"results":"59","hashOfConfig":"32"},{"size":3126,"mtime":1609627190795,"results":"60","hashOfConfig":"32"},{"size":3223,"mtime":1609626493016,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},"1uglca",{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"69"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"64"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"69"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"69"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"69"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"69"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"69"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"69"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"69"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"69"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"69"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"69"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"69"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"69"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"69"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"69"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140"},"/Users/mike/Documents/middi/app/src/index.js",[],["141","142"],"/Users/mike/Documents/middi/app/src/reportWebVitals.js",[],"/Users/mike/Documents/middi/app/src/state/appReducer.ts",[],["143","144"],"/Users/mike/Documents/middi/app/src/state/initialState.ts",[],"/Users/mike/Documents/middi/app/src/components/ChatBox.tsx",["145","146","147","148"],"import React, { useState, useContext, useEffect, useRef } from 'react';\nimport { AppContext } from '../App';\nimport * as types from '../types';\nimport Message from './Message';\nimport ActionButton from './ActionButton';\n\nconst ChatBox = () => {\n  const { appState, dispatch } = useContext<types.Context>(AppContext);\n  const [queueIndex, setQueueIndex] = useState<number>(0);\n  const [messages, setMessages] = useState<types.Message[]>([]);\n\n  useEffect(() => {\n    const next = appState.messages[queueIndex]\n    const updatedMessages = [ ...messages, next ];\n    setMessages(updatedMessages);\n    if (queueIndex < appState.messages.length - 1) {\n      const delay = next.delay;\n      const timer = setTimeout(() => {\n        setQueueIndex(queueIndex + 1);\n      }, delay);\n      return () => {\n        clearTimeout(timer);\n      }\n    }\n  }, [queueIndex])\n\n  useEffect(() => {\n    if (messages.length !== appState.messages.length) {\n      setQueueIndex(queueIndex + 1);\n    }\n  }, [appState.messages])\n\n  return (\n    <div className=\"chatbox\">\n      <div className=\"chatbox__messages\" >\n        {messages.map((message: types.Message) => (\n          message && <>\n            <Message message={message} key={message.uuid} />\n          </>\n        ))}\n      </div>\n      <div className=\"chatbox__actions\">\n        {appState.actions && appState.actions.map((action: types.Action) => (\n          <ActionButton action={action} key={action.uuid} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default ChatBox;\n","/Users/mike/Documents/middi/app/src/App.js",["149"],"import { createContext, useEffect, useReducer, useState } from 'react';\nimport { reducer } from './state/appReducer';\nimport { initialState } from './state/initialState';\nimport './styles/styles.scss';\nimport './components/ChatBox';\nimport ChatBox from './components/ChatBox';\nimport dispatchHelper from './state/dispatchHelper';\nimport { getAuthorizedUser, getHabits } from './state/api';\nimport GoalAchievementParty from './components/GoalAchievementParty';\n\nexport const AppContext = createContext();\n\nconst App = () => {\n  const [appState, dispatch] = useReducer(reducer, initialState);\n  const [loading, setLoading] = useState(true);\n\n  const initializeApp = () => {\n    getAuthorizedUser(appState)\n    .then(() => {\n      getHabits()\n    })\n    .finally(() => setLoading(false));\n  }\n\n  useEffect(() => {\n    dispatchHelper.dispatch = (payload) => dispatch(payload);\n    Object.freeze(dispatchHelper);\n    initializeApp()\n  }, [])\n\n  return (\n    <AppContext.Provider value={{ appState, dispatch}}>\n      <div className=\"app\">\n        <header className=\"header\">Middi</header>\n        {!loading && <ChatBox loggedIn={false} />}\n      </div>\n      <GoalAchievementParty />\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/mike/Documents/middi/app/src/components/Message.tsx",["150"],"import React, { useEffect, useState, useContext, useRef } from 'react';\nimport * as types from '../types';\nimport Loading from './Loading';\nimport { AppContext } from '../App';\nimport { ReactComponent as Avatar } from './icons/avatar.svg';\n\nconst AlwaysScrollToBottom = () => {\n    const elementRef = useRef<any>();\n    useEffect(() => elementRef.current.scrollIntoView(), []);\n    return <div ref={elementRef} />;\n  };\n\ntype MessageProps = {\n    message: types.Message;\n};\n\nconst Message = ({ message }: MessageProps) => {\n    const { dispatch } = useContext(AppContext);\n    const { delay, messageClass, text, sender, showLoader, Component } = message;\n    const [typing, setTyping] = useState(!!delay);\n    const [waiting, setWaiting] = useState(!!delay);\n\n    useEffect(() => {\n        const typingTimeout = setTimeout(() => {\n            setTyping(!typing);\n            if (message.dispatchOnSend) {\n                dispatch(message.dispatchOnSend);\n            }\n        }, delay)\n        const delayTimeout = setTimeout(() => {\n            setWaiting(!typing);\n        }, delay*0.2)\n        return () => {\n            clearTimeout(typingTimeout);\n            clearTimeout(delayTimeout);\n        };\n    }, [delay]);\n\n    return (\n        <>\n            { !waiting &&\n                (typing\n                    ? showLoader && <div className=\"message message--loading\">\n                        <Loading />\n                        <AlwaysScrollToBottom key={`${message.uuid}x`}/>\n                    </div>\n                    : <>\n                        <div className={`message message--sender-${sender} ${messageClass}`}>\n                            {messageClass === 'message--initial' && <Avatar />}\n                            {messageClass === 'message--component'\n                                ? message.componentProps ? <Component {...message.componentProps} /> : <Component />\n                                : <p>{ text }</p>\n                            }\n                            <AlwaysScrollToBottom key={`${message.uuid}x`}/>\n                        </div>\n                    </>\n                )\n            }\n        </>\n    )\n};\n\nexport default Message;","/Users/mike/Documents/middi/app/src/components/ActionButton.tsx",[],"/Users/mike/Documents/middi/app/src/state/dispatchHelper.ts",[],"/Users/mike/Documents/middi/app/src/components/Loading.tsx",[],"/Users/mike/Documents/middi/app/src/components/RegisterForm.tsx",["151","152","153","154"],"import React, { useState, useContext, useEffect, useRef } from 'react';\nimport { AppContext } from '../App';\nimport { Events } from '../types';\nimport env from '../env';\nimport Loading from './Loading';\nimport { postRegistrationSequence, loginSequence } from '../sequences/auth';\nimport { ReactComponent as Done } from './icons/done-shield.svg';\n\ntype RegisterForm = {\n    email: string;\n    password: string;\n    name: string;\n};\n\nconst RegisterForm = () => {\n    const { appState } = useContext(AppContext);\n    const [formData, setFormData] = useState<RegisterForm>({ name: '', email: '', password: '' });\n    const [loading, setLoading] = useState<boolean>(false);\n    const [submitted, setSubmitted] = useState<boolean>(false);\n    const [error, setError] = useState<string>(' ');\n\n    useEffect(() => {\n        if (appState.eventEmitted === Events.REGISTRATION_SUBMITTED) {\n            submit();\n        }\n    }, [appState.eventEmitted])\n\n    const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({\n            ...formData,\n            [event.target.name]: event.target.value\n        });\n    }\n\n    const submit = () => {\n        setLoading(true);\n        fetch(`${env.apiUrl}/auth/register`, {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(res => res.json())\n        .then(res => {\n            if (res.err) {\n                setLoading(false);\n                setError(res.err.message);\n            }\n            else {\n                setLoading(false);\n                setSubmitted(true);\n                postRegistrationSequence(formData.name);\n            }\n        })\n    }\n\n    return (\n        <div className=\"register-form\">\n            <form>\n                <h3>👤 Sign Up</h3>\n                { loading \n                    ? <Loading />\n                    : !submitted\n                        ? <>\n                            <label>Nickname <input name=\"name\" maxLength={150} type=\"text\" onChange={handleInputChange} placeholder=\"What should I call you?\" /></label>\n                            <label>Email <input name=\"email\" maxLength={100} type=\"email\" onChange={handleInputChange} placeholder=\"Only used for logging in\" /></label>\n                            <label>Password <input name=\"password\" maxLength={50} type=\"password\" placeholder=\"Choose something strong\" onChange={handleInputChange} /></label>\n                        </>\n                        : <div className=\"form__placeholder-success\"><Done /></div>\n                }\n                {(!loading && !submitted) &&\n                    <div className=\"form__extra\">\n                        <p className=\"error\">{ error }</p>\n                        <a onClick={loginSequence}>Log In</a>\n                    </div>\n                }\n            </form>\n        </div>\n    )\n};\n\nexport default RegisterForm;","/Users/mike/Documents/middi/app/src/types.ts",[],"/Users/mike/Documents/middi/app/src/sequences/introduction.ts",[],"/Users/mike/Documents/middi/app/src/sequences/auth.ts",["155","156"],"import dispatchHelper from '../state/dispatchHelper';\nimport { ACTIONS_SET, MESSAGE_ADDED, EVENT_EMITTED, STATE_SET } from '../state/appReducer';\nimport RegisterForm from '../components/RegisterForm';\nimport { AppState, Events, Message } from '../types';\nimport LoginForm from '../components/LoginForm';\nimport { v4 as uuid } from 'uuid';\nimport { addHabitSequence, viewCompleteHabitListSequence, viewHabitListSequence } from './habits';\nimport { mainButtons } from './introduction';\n\nexport const registrationSequence = (): void => {\n    // Add registration component\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: RegisterForm\n        }\n    })\n    // Submit button\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Submit', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EVENT_EMITTED,\n                        payload: Events.REGISTRATION_SUBMITTED\n                })\n            }}\n        ]\n    })\n}\n\nexport const loginSequence = (): void => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: LoginForm\n        }\n    })\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            {\n                uuid: uuid(),\n                label: 'Submit', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EVENT_EMITTED,\n                        payload: Events.LOGIN_SUBMITTED\n                    })\n            }}\n        ]\n    })\n}\n\nexport const postRegistrationSequence = (name: string) => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--inital',\n            uuid: uuid(),\n            sender: 'bot',\n            text: `Nice to meet you ${name}! We're on our way to building healthy habits 🚀`,\n            delay: 1500,\n            showLoader: false\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--grouped',\n            sender: 'bot',\n            text: `First thing's first though, let's get a habit set up for you to track`,\n            delay: 2500,\n            showLoader: true,\n            uuid: uuid(),\n            dispatchOnSend: {\n                type: 'ACTIONS_SET',\n                payload: [\n                {\n                    uuid: uuid(),\n                    label: 'Add a habit',\n                    callback: addHabitSequence\n                }]\n            }\n        }\n    });\n}\n\nexport const postLoginSequence = (name: string, state: AppState) => {\n\n    const messagesToAdd: Message[] = [\n        {\n            messageClass: 'message--initial',\n            sender: 'bot',\n            text: `Welcome back ${name}! Good to see you again 😁`,\n            delay: 1500,\n            showLoader: false,\n            uuid: uuid()\n        },\n        {\n            messageClass: 'message--grouped',\n            sender: 'bot',\n            text: `How can I help you today?`,\n            delay: 1500,\n            showLoader: true,\n            uuid: uuid(),\n            dispatchOnSend: {\n                type: 'ACTIONS_SET',\n                payload: mainButtons\n            }\n        }\n    ]\n\n    const newState: AppState = {\n        ...state,\n        auth: {\n            loggedIn: true,\n            name\n        },\n        messages: [ ...state.messages, ...messagesToAdd ]\n    }\n\n    dispatchHelper.dispatch({\n        type: STATE_SET,\n        payload: newState\n    });\n}","/Users/mike/Documents/middi/app/src/components/LoginForm.tsx",["157","158","159","160"],"import React, { useState, useContext, useEffect, useRef } from 'react';\nimport { AppContext } from '../App';\nimport { Events } from '../types';\nimport env from '../env';\nimport Loading from './Loading';\nimport { postLoginSequence, registrationSequence } from '../sequences/auth';\nimport { ReactComponent as Done } from './icons/done-shield.svg';\nimport { EVENT_EMITTED } from '../state/appReducer';\nimport { getHabits } from '../state/api';\n\ntype LoginForm = {\n    email: string;\n    password: string;\n};\n\nconst LoginForm = () => {\n    const { appState, dispatch } = useContext(AppContext);\n    const [formData, setFormData] = useState<LoginForm>({ email: '', password: '' });\n    const [loading, setLoading] = useState<boolean>(false);\n    const [submitted, setSubmitted] = useState<boolean>(false);\n    const [error, setError] = useState<string>(' ');\n    const [disabled, setDisabled] = useState<boolean>(false);\n\n    useEffect(() => {\n        if (appState.eventEmitted === Events.LOGIN_SUBMITTED && !disabled) {\n            if (formData.email && formData.password) {\n                submit();\n            }\n            else {\n                setError('Email and password are required!')\n            }\n        }\n    }, [appState.eventEmitted])\n\n    const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({\n            ...formData,\n            [event.target.name]: event.target.value\n        });\n    }\n\n    const submit = () => {\n        setError('')\n        setLoading(true);\n        fetch(`${env.apiUrl}/auth/login`, {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(res => res.json())\n        .then(res => {\n            if (res.err) {\n                setLoading(false);\n                setError(res.err.message);\n            }\n            else {\n                const { name } = res;\n                getHabits();\n                setLoading(false);\n                setSubmitted(true)\n                postLoginSequence(name, appState);\n            }\n            dispatch({\n                type: EVENT_EMITTED,\n                payload: ''\n            })\n        });\n    }\n\n    const showRegistration = () => {\n        setDisabled(true);\n        registrationSequence();\n    }\n\n    return (\n        <div className=\"form login-form\">\n            <form>\n                <h3>👤 Login</h3>\n                {loading\n                    ? <Loading />\n                    : !submitted \n                        ? <>\n                            <label>Email <input name=\"email\" type=\"email\" onChange={handleInputChange} /></label>\n                            <label>Password <input name=\"password\" type=\"password\" onChange={handleInputChange} /></label>\n                        </>\n                        : <div className=\"form__placeholder-success\"><Done /></div>\n                }\n                {(!loading && !submitted) &&\n                    <div className=\"form__extra\">\n                        <p className=\"error\">{ error }</p>\n                        <a onClick={showRegistration}>Sign up instead</a>\n                    </div>\n                }\n            </form>\n        </div>\n    )\n};\n\nexport default LoginForm;","/Users/mike/Documents/middi/app/src/state/api.ts",["161"],"import env from '../env';\nimport dispatchHelper from './dispatchHelper';\nimport { authenticatedIntroSequence, unauthenticatedIntroSequence } from '../sequences/introduction';\nimport { AppState, CompletedTask, Habit } from '../types';\nimport { AUTH_STATE_CHANGED, LAST_MESSAGE_REMOVED, MESSAGE_ADDED, HABITS_SET, STATE_SET, HABIT_REMOVED } from './appReducer';\nimport { v4 as uuid } from 'uuid';\n\nexport const getAuthorizedUser = (appState: AppState) => {\n    return fetch(`${env.apiUrl}/auth/auth-user`, {\n      credentials: 'include',\n    })\n    .then(res => res.json())\n    .then(res => {\n      // authenticated user\n      if (res.user) {\n        dispatchHelper.dispatch({\n          type: STATE_SET,\n          payload: {\n            ...appState,\n            messages: authenticatedIntroSequence(res.user.name)\n          }\n        });\n        dispatchHelper.dispatch({\n          type: AUTH_STATE_CHANGED,\n          payload: {\n            loggedIn: true,\n            name: res.user.name\n          }\n        });\n      }\n      else {\n        // unauthenticated user\n        dispatchHelper.dispatch({\n          type: STATE_SET,\n          payload: {\n            ...appState,\n            messages: unauthenticatedIntroSequence()\n          }\n        });\n      }\n    })\n    .catch(res => {\n      // unauthenticated user\n      dispatchHelper.dispatch({\n        type: STATE_SET,\n        payload: {\n          ...appState,\n          messages: unauthenticatedIntroSequence()\n        }\n      });\n    });\n}\n\nexport const getHabits = () => {\n    return fetch(`${env.apiUrl}/habits`, {\n        credentials: 'include',\n    })\n    .then(res => res.json())\n    .then(res => {\n        if (res.err) {\n          console.log(res.error);\n        }\n        else {\n          dispatchHelper.dispatch({\n            type: HABITS_SET,\n            payload: res.habits\n          })\n        }\n    });\n} \n\nexport const saveTaskState = (task: CompletedTask, method: 'DELETE' | 'POST') => {\n  return fetch(`${env.apiUrl}/completed-tasks`, {\n    credentials: 'include',\n    method,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(task)\n  })\n  .then(res => res.json())\n}\n\nexport const deleteHabit = (habit: Habit) => {\n  return fetch(`${env.apiUrl}/habits`, {\n    credentials: 'include',\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(habit)\n  })\n  .then(res => {\n    dispatchHelper.dispatch({\n      type: HABIT_REMOVED,\n      payload: habit\n    });\n    dispatchHelper.dispatch({\n      type: MESSAGE_ADDED,\n      payload: {\n          messageClass: 'message--initial',\n          sender: 'bot',\n          text: `That habit's been deleted 👍`,\n          delay: 500,\n          showLoader: false,\n          uuid: uuid()\n      }\n    });\n    return res.json()\n  });\n}\n\nexport const createHabit = (habit: Partial<Habit>) => {\n  return fetch(`${env.apiUrl}/habits`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(habit)\n  })\n  .then(res => res.json())\n}\n\nexport const updateHabit = (habit: Partial<Habit>) => {\n  return fetch(`${env.apiUrl}/habits`, {\n    method: 'PATCH',\n    credentials: 'include',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(habit)\n  })\n  .then(res => res.json())\n}","/Users/mike/Documents/middi/app/src/sequences/habits.ts",["162","163"],"import { Events, Habit, Message } from '../types';\nimport { v4 as uuid } from 'uuid';\nimport dispatchHelper from '../state/dispatchHelper';\nimport { ACTIONS_SET, MESSAGE_ADDED, EVENT_EMITTED, LAST_MESSAGE_REMOVED } from '../state/appReducer';\nimport AddHabitForm from '../components/AddHabitForm';\nimport HabitList from '../components/HabitList';\nimport { startMessages, mainButtons } from './introduction';\nimport Habits from '../components/Habits';\nimport HabitOverview from '../components/HabitOverview';\nimport Overview from '../components/Overview';\n\n\nexport const addHabitSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: AddHabitForm\n        }\n    });\n\n    // Submit button\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Submit', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EVENT_EMITTED,\n                        payload: Events.HABIT_FORM_SUBMITTED\n                })\n            }},\n            { \n                uuid: uuid(),\n                label: 'Cancel', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EVENT_EMITTED,\n                        payload: Events.ACTION_CANCELLED\n                    })\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                })\n            }}\n        ]\n    })\n}\n\nexport const viewHabitListSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: Habits\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Done', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                    })\n                }}\n        ]\n    })\n}\n\n\nexport const viewCompleteHabitListSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: HabitList\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Done', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            messageClass: 'message--initial',\n                            uuid: uuid(),\n                            sender: 'bot',\n                            text: 'Keep up the good work! 🥳',\n                            delay: 1000,\n                            showLoader: false,\n                            Component: HabitList\n                        }\n                    })\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                    })\n                }}\n        ]\n    })\n}\n\nexport const viewHabitOverviewSequence = (habit: Habit) => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: HabitOverview,\n            componentProps: {\n                habitId: habit.id\n            }\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Done', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                    })\n                }}\n        ]\n    })\n}\n\nexport const postHabitCreateSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--initial',\n            sender: 'bot',\n            text: `Amazing! You're all set to start tracking.`,\n            delay: 500,\n            showLoader: false,\n            uuid: uuid()\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            ...startMessages,\n            text: 'Use the buttons below to start tracking your progress 👇'\n        }\n    });\n};\n\nexport const postHabitUpdateSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--initial',\n            sender: 'bot',\n            text: `You're all set! That habit's been updated`,\n            delay: 500,\n            showLoader: false,\n            uuid: uuid(),\n            dispatchOnSend: {\n                type: 'ACTIONS_SET',\n                payload: mainButtons\n            }\n        }\n    });\n};\n\nexport const updateHabitSequence = (habit: Habit) => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: AddHabitForm,\n            componentProps: {\n                ...habit,\n                editing: true\n            }\n        }\n    });\n\n    // Submit button\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Submit', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EVENT_EMITTED,\n                        payload: Events.HABIT_FORM_SUBMITTED\n                })\n            }},\n            { \n                uuid: uuid(),\n                label: 'Cancel', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EVENT_EMITTED,\n                        payload: Events.ACTION_CANCELLED\n                    })\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                })\n            }}\n        ]\n    })\n}\n\nexport const viewOverviewSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 500,\n            showLoader: false,\n            Component: Overview,\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Done', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                    })\n                }}\n        ]\n    })\n}","/Users/mike/Documents/middi/app/src/components/AddHabitForm.tsx",["164","165"],"import React, { useState, useContext, useEffect, ReactElement } from 'react';\nimport { AppContext } from '../App';\nimport { Events } from '../types';\nimport env from '../env';\nimport Loading from './Loading';\nimport { ReactComponent as Done } from './icons/done.svg';\nimport { EVENT_EMITTED } from '../state/appReducer';\nimport { createHabit, getHabits, updateHabit } from '../state/api';\nimport ColorSelect from './ColorSelect';\nimport { postHabitCreateSequence, postHabitUpdateSequence } from '../sequences/habits';\n\ntype HabitForm = {\n    id?: number;\n    name: string;\n    description: string;\n    color: string;\n    weeklyGoal: number;\n    editing?: boolean;\n};\n\nconst AddHabitForm = ({ id, name, description, color, weeklyGoal, editing }: HabitForm) => {\n    const defaultForm = {\n        name: name || '',\n        description: description || '',\n        color: color || '',\n        weeklyGoal: weeklyGoal || 1\n    };\n    const { appState, dispatch } = useContext(AppContext);\n    const [formData, setFormData] = useState<HabitForm>(defaultForm);\n    const [loading, setLoading] = useState<boolean>(false);\n    const [submitted, setSubmitted] = useState<boolean>(false);\n    const [error, setError] = useState<string>(' ');\n    const [disabled, setDisabled] = useState<boolean>(false);\n\n    useEffect(() => {\n        if (appState.eventEmitted === Events.HABIT_FORM_SUBMITTED && !disabled) {\n            submit();\n        }\n        else if (appState.eventEmitted === Events.HABIT_FORM_SUBMITTED && (formData.name && formData.color)) {\n            setDisabled(true);\n        }\n    }, [appState.eventEmitted])\n\n    const handleInputChange = (event: React.ChangeEvent<any>) => {\n        let value = event.target.value;\n        if (event.target.name === 'weeklyGoal') {\n            value = parseInt(value);\n        }\n        setFormData({\n            ...formData,\n            [event.target.name]: value\n        });\n    }\n    \n\n    const submit = () => {\n        setError('')\n        let promise: Promise<any>;\n        if (formData.name && formData.color) {\n            setLoading(true);\n            if (editing) {\n                promise = updateHabit({\n                    ...formData,\n                    id\n                });\n            }\n            else {\n                promise = createHabit(formData);\n            }\n            promise.then(res => {\n                if (res.err) {\n                    setLoading(false);\n                    setError(res.err.message);\n                }\n                else {\n                    setLoading(false);\n                    setSubmitted(true)\n                    getHabits();\n                    editing ? postHabitUpdateSequence() : postHabitCreateSequence();\n                }\n                dispatch({\n                    type: EVENT_EMITTED,\n                    payload: ''\n                })\n            });\n        }\n        else {\n            setError('Name and color are required!');\n        }\n    }\n\n    const generateOptions = (): ReactElement[] => {\n        const weekDays = [1, 2, 3, 4, 5, 6, 7];\n        return weekDays.map((day: number) => (\n            <option selected={formData.weeklyGoal === day} value={`${day}`}>{day}</option>\n        ));\n    };\n\n    return (\n        <div className=\"form add-habit-form\">\n            <form>\n                <h3>➕ New Habit</h3>\n                {loading\n                    ? <Loading />\n                    : !submitted \n                        ? <>\n                            <label>Name <input name=\"name\" defaultValue={formData.name} type=\"text\" maxLength={150} onChange={handleInputChange} \n                                placeholder=\"Drink 3 glasses of water, Do 10 pushups...\"\n                            /></label>\n                            <label>Description (optional) \n                                <textarea \n                                    name=\"description\" \n                                    defaultValue={formData.description} \n                                    rows={4} \n                                    maxLength={300} \n                                    onChange={handleInputChange}\n                                />\n                            </label>\n                            <ColorSelect onColorSelect={handleInputChange} defaultValue={formData.color} />\n                            <label>Weekly goal - how many times a week are you aiming to complete this goal?\n                                <select name=\"weeklyGoal\" onChange={handleInputChange}>\n                                    {generateOptions()}\n                                </select>\n                            </label>\n                        </>\n                        : <div className=\"form__placeholder-success\"><Done /></div>\n                }\n                {(!loading && !submitted) &&\n                    <div className=\"form__extra\">\n                        <p className=\"error\">{ error }</p>\n                    </div>\n                }\n            </form>\n        </div>\n    )\n};\n\nexport default AddHabitForm;","/Users/mike/Documents/middi/app/src/components/ColorSelect.tsx",["166"],"import React, { useEffect, useState } from 'react';\nimport env from '../env';\n\ntype ColorSelectProps = {\n    onColorSelect: Function\n    defaultValue: string\n}\n\nconst ColorSelect = ({ onColorSelect, defaultValue }: ColorSelectProps) => {\n    const [selectedColor, setSelectedColor] = useState('');\n\n    useEffect(() => {\n        if (defaultValue) {\n            setSelectedColor(defaultValue);\n        }\n    }, [])\n\n    const handleSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setSelectedColor(e.target.value);\n        onColorSelect(e);\n    }\n\n    return (\n        <div className=\"color-select\">\n            Color:\n            <div className=\"color-select__options\">\n                {Object.values(env.habitColors).map((color: string) => (\n                    <label \n                        key={color}\n                        style={{backgroundColor: color}} \n                        className={color === selectedColor ? `color-select__option--selected` : 'color-select__option'}\n                    >\n                        <input type=\"radio\" name=\"color\" value={color} onChange={handleSelect} checked={selectedColor === color} />\n                    </label>\n                ))}\n            </div>\n        </div>\n    )\n};\n\nexport default ColorSelect;","/Users/mike/Documents/middi/app/src/components/HabitList.tsx",["167"],"import React, { useState, useContext } from 'react';\nimport { AppContext } from '../App';\nimport HabitListItem from './HabitListItem';\nimport format from 'date-fns/format';\nimport { Habit } from '../types';\n\nconst HabitList = () => {\n    const { appState } = useContext(AppContext);\n\n    return (\n        <div className=\"habit-list\">\n            <p className=\"habit-list__title\">{format(new Date(), 'EEEE, do LLLL yyyy')}</p>\n            <p className=\"habit-list__subtitle\">Toggle a habit to complete it for today</p>\n            {appState.habits.map((habit: Habit) => (\n                <HabitListItem habit={habit} key={habit.id} />\n            ))}\n        </div>\n    )\n};\n\nexport default HabitList;","/Users/mike/Documents/middi/app/src/components/HabitListItem.tsx",["168"],"import React, { useEffect, useState } from 'react';\nimport { Habit } from '../types';\nimport { getHabitColorKey } from '../utils/utils';\nimport HabitCompleteToggle from './HabitCompleteToggle';\n\ntype HabitListItemProps = {\n    habit: Habit\n};\n\nconst HabitListItem = ({ habit }: HabitListItemProps) => {\n    const [colorKey, setColorKey] = useState<string>('');\n\n    useEffect(() => {\n        setColorKey(getHabitColorKey(habit));\n    }, [])\n\n    return (\n        <div className={`habit-list__item habit-list__item--${colorKey}`}>\n            <span>{habit.name}</span>\n            <HabitCompleteToggle habit={habit} colorKey={colorKey} date={new Date()} />\n        </div>\n    )\n};\n\nexport default HabitListItem","/Users/mike/Documents/middi/app/src/env.ts",[],"/Users/mike/Documents/middi/app/src/state/modifiers.ts",[],"/Users/mike/Documents/middi/app/src/utils/utils.ts",[],"/Users/mike/Documents/middi/app/src/components/HabitCompleteToggle.tsx",["169"],"import React, { useEffect, useState, useContext } from 'react';\nimport { AppContext } from '../App';\nimport { CompletedTask, Events, Habit } from '../types';\nimport Switch from 'react-switch';\nimport isSameDay from 'date-fns/isSameDay';\nimport { ReactComponent as Balloons } from './icons/balloons.svg';\nimport { getHabits, saveTaskState } from '../state/api';\nimport { COMPLETED_TASK_ADDED, EVENT_EMITTED, COMPLETED_TASK_REMOVED } from '../state/appReducer';\nimport env from '../env';\n\ntype HabitCompleteToggleProps = {\n    habit: Habit;\n    colorKey: string;\n    compact?: boolean;\n    date: Date;\n};\n\nconst HabitCompleteToggle = ({ habit, colorKey, compact, date }: HabitCompleteToggleProps) => {\n\n    const { dispatch } = useContext(AppContext);\n    const [isCompletedToday, setIsCompletedToday] = useState<boolean>(false);\n    const [completedTask, setCompletedTask] = useState<CompletedTask | null>(null);\n    const [celebrate, setCelebrate] = useState<boolean>(false);\n\n    useEffect(() => {\n        const completedToday = habit.CompletedTasks.find((task: CompletedTask) => {\n            return isSameDay(new Date(task.dateCompleted), date);\n        });\n        if (completedToday) {\n            setIsCompletedToday(true);\n            setCompletedTask(completedToday);\n        }\n    }, [])\n\n    const onCompleteToggle = (val: boolean) => {\n        if (completedTask) {\n            saveTaskState(completedTask, 'DELETE')\n            .then(res => {\n                setCompletedTask(null);\n                setIsCompletedToday(val);\n                dispatch({\n                    type: COMPLETED_TASK_REMOVED,\n                    payload: completedTask\n                });\n            });\n        }\n        else {\n            const newTask: CompletedTask = {\n                HabitId: habit.id,\n                dateCompleted: date.getTime().toString(),\n            };\n            saveTaskState(newTask, 'POST')\n                .then(res => {\n                    setCelebrate(val);\n                    setIsCompletedToday(val);\n                    setCompletedTask(res.completedTask);\n                    dispatch({\n                        type: COMPLETED_TASK_ADDED,\n                        payload: res.completedTask\n                    });\n                    if (res.goalCompleted) {\n                        // Trigger goal achievement party\n                        getHabits();\n                        dispatch({\n                            type: EVENT_EMITTED,\n                            payload: Events.GOAL_COMPLETED\n                        });\n                    }\n                });\n        }\n    }\n\n    return (\n        <div className=\"habit-complete-toggle\">\n            <p className={isCompletedToday ? '' : 'item-status--transparent'}>{!compact ? 'Nice job! 🎉' : '🎉'}</p>\n            <label>\n                <Switch \n                    checked={isCompletedToday}\n                    onChange={onCompleteToggle}\n                    onColor={env.habitColors[colorKey]}\n                    handleDiameter={20}\n                    uncheckedIcon={false}\n                    checkedIcon={false}\n                    boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n                    activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n                    height={20}\n                    width={48}\n                />\n            </label>\n            {celebrate && <Balloons />}\n        </div>\n    )\n}\n\nexport default HabitCompleteToggle;","/Users/mike/Documents/middi/app/src/components/Habits.tsx",["170"],"import React, { useContext } from 'react';\nimport { AppContext } from '../App';\nimport { CompletedTask, Habit } from '../types';\nimport { getHabitColorKey } from '../utils/utils';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { viewHabitOverviewSequence } from '../sequences/habits';\n\nconst Habits = () => {\n    const { appState, dispatch } = useContext(AppContext);\n\n    const getLastCompletedDate = (habit: Habit): string => {\n        if (habit.CompletedTasks?.length) {\n            const sortedTasks = habit.CompletedTasks.sort((ca: CompletedTask, cb: CompletedTask) => {\n                return (new Date(cb.dateCompleted) as any) - (new Date(ca.dateCompleted) as any);\n            });\n            const mostRecent = new Date(sortedTasks[0].dateCompleted);\n            return `Last completed ${formatDistanceToNow(mostRecent, { addSuffix: true })}`\n        }\n        return ''\n    }\n\n    const viewHabit = (habit: Habit) => {\n        viewHabitOverviewSequence(habit);\n    }\n\n    return (\n        <div className=\"habits habit-list\">\n            {appState.habits.map((habit: Habit) => (\n                <div className={`habit-list__item habit-list__item--${getHabitColorKey(habit)}`} key={habit.id}>\n                    <div className=\"habits__description\">\n                        {habit.name}\n                        <p>{getLastCompletedDate(habit)}</p>\n                    </div>\n                    <button className=\"button\" onClick={() => viewHabit(habit)}>View</button>\n                </div>\n            ))}\n        </div>\n    )\n};\n\nexport default Habits;","/Users/mike/Documents/middi/app/src/components/HabitOverview.tsx",["171"],"import React, { useState, useEffect, useContext, ReactElement } from 'react';\nimport { AppContext } from '../App';\nimport { CompletedTask, Habit } from '../types';\nimport { getHabitColorKey } from '../utils/utils';\nimport HabitCompleteToggle from './HabitCompleteToggle';\nimport isSameWeek from 'date-fns/isSameWeek';\nimport isSameDay from 'date-fns/isSameDay';\nimport format from 'date-fns/format';\nimport startOfWeek from 'date-fns/startOfWeek';\nimport add from 'date-fns/add';\nimport { ReactComponent as Rocket } from './icons/rocket.svg';\nimport { ReactComponent as Trophy } from './icons/trophy.svg';\nimport { ReactComponent as CheckedDate } from './icons/check-date.svg';\nimport { ReactComponent as Trash } from './icons/trash.svg';\nimport { ReactComponent as Done } from './icons/done.svg';\nimport { Menu, MenuItem } from '@szhsin/react-menu';\nimport '@szhsin/react-menu/dist/index.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCog } from '@fortawesome/free-solid-svg-icons'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { faPencilAlt } from '@fortawesome/free-solid-svg-icons'\nimport { deleteHabit } from '../state/api';\nimport { updateHabitSequence } from '../sequences/habits';\n\ntype WeekDayProps = {\n    date: Date;\n    habit: Habit;\n    colorKey: string;\n}\n\nconst WeekDay = ({ date, habit, colorKey }: WeekDayProps) => {\n    const isToday = isSameDay(date, new Date());\n    return (\n        <div className={`week-summary__day ${isToday ? 'week-summary__day--today' : ''}`} key={date.getTime()}>\n            <p>{format(date, 'E')}</p>\n            <HabitCompleteToggle habit={habit} colorKey={colorKey} date={date} compact={true} />\n        </div>\n    )\n}\n\ntype HabitOverviewProps = {\n    habitId: number\n};\n\nconst HabitOverview = ({ habitId }: HabitOverviewProps) => {\n    const { appState } = useContext(AppContext);\n    const [colorKey, setColorKey] = useState<string>('');\n    const [habit, setHabit] = useState<Habit | any>(null);\n\n\n    useEffect(() => {\n        const currentHabit = appState.habits.find((h: Habit) => h.id === habitId );\n        setHabit(currentHabit);\n        if (currentHabit) {\n            setColorKey(getHabitColorKey(currentHabit));\n        }\n    }, [appState])\n\n    const getThisWeeksTasks = (): number => {\n        const tasks = habit.CompletedTasks.filter((task: CompletedTask) => {\n            return isSameWeek(new Date(task.dateCompleted), new Date());\n        });\n        return tasks.length;\n    }\n\n    const generateWeekdaySummary = (): ReactElement[] => {\n        const weekStart: Date = startOfWeek(new Date());\n        const days: ReactElement[] = [];\n        for (let i=0; i < 7; i++) {\n            const day = add(weekStart, { days: i });\n            days.push(<WeekDay habit={habit} colorKey={colorKey} date={day} />);\n        }\n        return days;\n    }\n    const getProgressBarWidth = () => {\n        let progress = getThisWeeksTasks();\n        if (progress > habit.weeklyGoal) {\n            progress = habit.weeklyGoal;\n        };\n        return `${(progress/habit.weeklyGoal)*100}%`\n    }\n\n    const onDeleteHabit = () => {\n        deleteHabit(habit);\n    }\n\n    const onEditHabit = () => {\n        updateHabitSequence(habit);\n    }\n\n    return (\n        habit ? <div className={`habit-overview habit-overview--${colorKey}`}>\n            <div className=\"habit-overview__header\">\n                <div className=\"habit-overview__title\">\n                    <p>{habit.name}</p>\n                    <p>{habit.description}</p>\n                </div>\n                <div className=\"habit-overview__options\">\n                    <Menu menuButton={\n                        <button className=\"button button--clear button--compact\">\n                            <FontAwesomeIcon icon={faCog} />\n                        </button>}\n                        direction=\"left\">\n                        <MenuItem onClick={onEditHabit}><FontAwesomeIcon icon={faPencilAlt} /> Edit</MenuItem>\n                        <MenuItem onClick={onDeleteHabit}><FontAwesomeIcon icon={faTrash} /> Delete</MenuItem>\n                    </Menu>\n                </div>\n            </div>\n            <div className=\"habit-overview__stats\">\n                <div className=\"habit-overview__stat\">\n                    <div>\n                        <Rocket />\n                        <p>{getThisWeeksTasks()}/{habit.weeklyGoal}</p>\n                    </div>\n                    <span>Weekly goal</span>\n                    <div className=\"progress-bar\">\n                        <div className=\"progress-bar--filler\" style={{ width: getProgressBarWidth() }}></div>\n                    </div>\n                </div>\n                <div className=\"habit-overview__stat\">\n                    <div>\n                        <Trophy />\n                        <p>{habit.CompletedGoals.length}</p>\n                    </div>\n                    <span>Goals completed</span>\n                </div>\n                <div className=\"habit-overview__stat\">\n                    <div>\n                        <CheckedDate />\n                        <p>{habit.CompletedTasks.length}</p>\n                    </div>\n                    <span>Days completed</span>\n                </div>\n            </div>\n            <div className=\"habit-overview__week-summary\">\n                {generateWeekdaySummary()}\n            </div>\n        </div>\n        : <div className=\"habit-overview--deleted\">\n            <p>Deleted <Done /></p>\n            <Trash />\n        </div>\n    )\n}\n\nexport default HabitOverview;","/Users/mike/Documents/middi/app/src/components/GoalAchievementParty.tsx",["172"],"import React, { useContext, useEffect, useState } from 'react';\nimport { AppContext } from '../App';\nimport Confetti from 'react-dom-confetti';\nimport { Events } from '../types';\nimport { EVENT_EMITTED, MESSAGE_ADDED } from '../state/appReducer';\nimport { v4 as uuid } from 'uuid';\n\nconst GoalAchievementParty = () => {\n    const { appState, dispatch } = useContext(AppContext);\n    const [explode1, setExplode1] = useState(false);\n    const [explode2, setExplode2] = useState(false);\n\n    useEffect(() => {\n        if (appState.eventEmitted === Events.GOAL_COMPLETED) {\n            setExplode1(true);\n            setTimeout(() => {\n                setExplode2(true);\n            }, 200)\n            setExplode2(true);\n            dispatch({\n                type: EVENT_EMITTED,\n                payload: null\n            });\n            dispatch({\n                type: MESSAGE_ADDED,\n                payload: {\n                    messageClass: 'message--initial',\n                    sender: 'bot',\n                    text: `Heck yeah! You achieved your weekly goal 🔥🔥🔥`,\n                    delay: 1000,\n                    showLoader: true,\n                    uuid: uuid()\n                }\n            });\n            setTimeout(() => {\n                setExplode1(false);\n                setExplode2(false);\n            }, 500)\n        }\n    }, [appState.eventEmitted])\n\n    const config = {\n        angle: 70,\n        spread: 60,\n        startVelocity: 40,\n        elementCount: 70,\n        dragFriction: 0.12,\n        duration: 1050,\n        stagger: 3,\n        width: \"10px\",\n        height: \"10px\",\n        colors: [\"#a864fd\", \"#29cdff\", \"#78ff44\", \"#ff718d\", \"#fdff6a\"]\n      };\n\n    return (\n        <div className=\"confetti-container\">\n            <Confetti active={explode1} config={config} />\n            <Confetti active={explode2} config={{ ...config, angle: 100 }} />\n        </div>\n    )\n}\n\nexport default GoalAchievementParty;","/Users/mike/Documents/middi/app/src/components/Overview.tsx",[],"/Users/mike/Documents/middi/app/src/components/OverviewChart.tsx",["173"],"import React, { useContext, useEffect, useState } from 'react';\nimport { AppContext } from '../App';\nimport { CompletedGoal, Habit } from '../types';\nimport differenceInWeeks from 'date-fns/differenceInWeeks';\nimport add from 'date-fns/add';\nimport endOfWeek from 'date-fns/endOfWeek';\nimport startOfWeek from 'date-fns/startOfWeek';\nimport format from 'date-fns/format';\nimport { ReactComponent as Done } from './icons/done.svg';\n\ntype ProgressTable = {\n    weeks: Date[];\n    habits: {\n        name: string;\n        color: string;\n        data: number[];\n    }[]\n}\n\nconst OverviewChart = () => {\n    const { appState } = useContext(AppContext);\n    const [data, setData] = useState<ProgressTable>({\n        weeks: [],\n        habits: []\n    });\n\n    useEffect(() => {\n        const startPeriod = endOfWeek(add(new Date(), { weeks: -5 }));\n        const endPeriod = endOfWeek(new Date());\n        const periodLength = differenceInWeeks(endPeriod, startPeriod) + 1;\n        const weeks: Date[] = [];\n        for (let i=0; i<periodLength; i++) {\n            weeks.push(add(startPeriod, { weeks: i }));\n        }\n\n        const tableData: ProgressTable = {\n            weeks,\n            habits: []\n        };\n        appState.habits.forEach((habit: Habit) => {\n            const points = weeks.map((d: Date) => {\n                const startWeek = startOfWeek(d);\n                return habit.CompletedGoals.map((goal: CompletedGoal) => {\n                    const goalTime: number = new Date(goal.weekStartDate).getTime();\n                    const isWithin: boolean = d.getTime() > goalTime && goalTime >= startWeek.getTime();\n                    return isWithin ? 1 : 0;\n                });\n            });\n            const habitPoints = points.map((pointArray: number[]) => {\n                return pointArray.reduce((sum: number, point: number) => sum + point, 0);\n            });\n            tableData.habits.push({\n                name: habit.name,\n                color: habit.color,\n                data: habitPoints\n            })\n        });\n        setData(tableData)\n    }, [])\n\n    return (\n        <>\n            <p className=\"table-title\">Last 6 weeks</p>\n            <table className=\"overview-table\">\n                <thead>\n                    <tr>\n                        <th></th>\n                        <th colSpan={6}>Week starting</th>\n                    </tr>\n                    <tr>\n                        <th></th>        \n                        {data.weeks.map((week: Date, index: number) => (\n                            <th key={index}>{format(week, 'MMM do')}</th>\n                        ))}\n                    </tr>\n                </thead>\n                <tbody>\n                    {data.habits.map((habit: any) => (\n                        <tr key={habit.name} style={{ backgroundColor: habit.color }}>\n                            <td>{habit.name}</td>\n                            {habit.data.map((point: number) => (\n                                <td>{point ? <Done /> : '-'}</td>\n                            ))}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n            \n        </>\n    )\n};\n\nexport default OverviewChart;\n",{"ruleId":"174","replacedBy":"175"},{"ruleId":"176","replacedBy":"177"},{"ruleId":"174","replacedBy":"175"},{"ruleId":"176","replacedBy":"177"},{"ruleId":"178","severity":1,"message":"179","line":1,"column":50,"nodeType":"180","messageId":"181","endLine":1,"endColumn":56},{"ruleId":"178","severity":1,"message":"182","line":8,"column":21,"nodeType":"180","messageId":"181","endLine":8,"endColumn":29},{"ruleId":"183","severity":1,"message":"184","line":25,"column":6,"nodeType":"185","endLine":25,"endColumn":18,"suggestions":"186"},{"ruleId":"183","severity":1,"message":"187","line":31,"column":6,"nodeType":"185","endLine":31,"endColumn":25,"suggestions":"188"},{"ruleId":"183","severity":1,"message":"189","line":29,"column":6,"nodeType":"185","endLine":29,"endColumn":8,"suggestions":"190"},{"ruleId":"183","severity":1,"message":"191","line":37,"column":8,"nodeType":"185","endLine":37,"endColumn":15,"suggestions":"192"},{"ruleId":"178","severity":1,"message":"179","line":1,"column":50,"nodeType":"180","messageId":"181","endLine":1,"endColumn":56},{"ruleId":"193","severity":1,"message":"194","line":15,"column":7,"nodeType":"180","messageId":"195","endLine":15,"endColumn":19},{"ruleId":"183","severity":1,"message":"196","line":26,"column":8,"nodeType":"185","endLine":26,"endColumn":31,"suggestions":"197"},{"ruleId":"198","severity":1,"message":"199","line":76,"column":25,"nodeType":"200","endLine":76,"endColumn":52},{"ruleId":"178","severity":1,"message":"201","line":7,"column":28,"nodeType":"180","messageId":"181","endLine":7,"endColumn":57},{"ruleId":"178","severity":1,"message":"202","line":7,"column":59,"nodeType":"180","messageId":"181","endLine":7,"endColumn":80},{"ruleId":"178","severity":1,"message":"179","line":1,"column":50,"nodeType":"180","messageId":"181","endLine":1,"endColumn":56},{"ruleId":"193","severity":1,"message":"203","line":16,"column":7,"nodeType":"180","messageId":"195","endLine":16,"endColumn":16},{"ruleId":"183","severity":1,"message":"204","line":33,"column":8,"nodeType":"185","endLine":33,"endColumn":31,"suggestions":"205"},{"ruleId":"198","severity":1,"message":"199","line":94,"column":25,"nodeType":"200","endLine":94,"endColumn":55},{"ruleId":"178","severity":1,"message":"206","line":5,"column":30,"nodeType":"180","messageId":"181","endLine":5,"endColumn":50},{"ruleId":"178","severity":1,"message":"207","line":1,"column":25,"nodeType":"180","messageId":"181","endLine":1,"endColumn":32},{"ruleId":"178","severity":1,"message":"206","line":4,"column":53,"nodeType":"180","messageId":"181","endLine":4,"endColumn":73},{"ruleId":"178","severity":1,"message":"208","line":4,"column":8,"nodeType":"180","messageId":"181","endLine":4,"endColumn":11},{"ruleId":"183","severity":1,"message":"209","line":42,"column":8,"nodeType":"185","endLine":42,"endColumn":31,"suggestions":"210"},{"ruleId":"183","severity":1,"message":"211","line":16,"column":8,"nodeType":"185","endLine":16,"endColumn":10,"suggestions":"212"},{"ruleId":"178","severity":1,"message":"213","line":1,"column":17,"nodeType":"180","messageId":"181","endLine":1,"endColumn":25},{"ruleId":"183","severity":1,"message":"214","line":15,"column":8,"nodeType":"185","endLine":15,"endColumn":10,"suggestions":"215"},{"ruleId":"183","severity":1,"message":"216","line":33,"column":8,"nodeType":"185","endLine":33,"endColumn":10,"suggestions":"217"},{"ruleId":"178","severity":1,"message":"182","line":9,"column":23,"nodeType":"180","messageId":"181","endLine":9,"endColumn":31},{"ruleId":"183","severity":1,"message":"218","line":57,"column":8,"nodeType":"185","endLine":57,"endColumn":18,"suggestions":"219"},{"ruleId":"183","severity":1,"message":"220","line":40,"column":8,"nodeType":"185","endLine":40,"endColumn":31,"suggestions":"221"},{"ruleId":"183","severity":1,"message":"222","line":59,"column":8,"nodeType":"185","endLine":59,"endColumn":10,"suggestions":"223"},"no-native-reassign",["224"],"no-negated-in-lhs",["225"],"@typescript-eslint/no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'appState.messages' and 'messages'. Either include them or remove the dependency array.","ArrayExpression",["226"],"React Hook useEffect has missing dependencies: 'messages.length' and 'queueIndex'. Either include them or remove the dependency array. You can also do a functional update 'setQueueIndex(q => ...)' if you only need 'queueIndex' in the 'setQueueIndex' call.",["227"],"React Hook useEffect has a missing dependency: 'initializeApp'. Either include it or remove the dependency array.",["228"],"React Hook useEffect has missing dependencies: 'dispatch', 'message.dispatchOnSend', and 'typing'. Either include them or remove the dependency array. You can also do a functional update 'setTyping(t => ...)' if you only need 'typing' in the 'setTyping' call.",["229"],"@typescript-eslint/no-redeclare","'RegisterForm' is already defined.","redeclared","React Hook useEffect has a missing dependency: 'submit'. Either include it or remove the dependency array.",["230"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'viewCompleteHabitListSequence' is defined but never used.","'viewHabitListSequence' is defined but never used.","'LoginForm' is already defined.","React Hook useEffect has missing dependencies: 'disabled', 'formData.email', 'formData.password', and 'submit'. Either include them or remove the dependency array.",["231"],"'LAST_MESSAGE_REMOVED' is defined but never used.","'Message' is defined but never used.","'env' is defined but never used.","React Hook useEffect has missing dependencies: 'disabled', 'formData.color', 'formData.name', and 'submit'. Either include them or remove the dependency array.",["232"],"React Hook useEffect has a missing dependency: 'defaultValue'. Either include it or remove the dependency array. If 'setSelectedColor' needs the current value of 'defaultValue', you can also switch to useReducer instead of useState and read 'defaultValue' in the reducer.",["233"],"'useState' is defined but never used.","React Hook useEffect has a missing dependency: 'habit'. Either include it or remove the dependency array. If 'setColorKey' needs the current value of 'habit', you can also switch to useReducer instead of useState and read 'habit' in the reducer.",["234"],"React Hook useEffect has missing dependencies: 'date' and 'habit.CompletedTasks'. Either include them or remove the dependency array.",["235"],"React Hook useEffect has a missing dependency: 'habitId'. Either include it or remove the dependency array.",["236"],"React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["237"],"React Hook useEffect has a missing dependency: 'appState.habits'. Either include it or remove the dependency array.",["238"],"no-global-assign","no-unsafe-negation",{"desc":"239","fix":"240"},{"desc":"241","fix":"242"},{"desc":"243","fix":"244"},{"desc":"245","fix":"246"},{"desc":"247","fix":"248"},{"desc":"249","fix":"250"},{"desc":"251","fix":"252"},{"desc":"253","fix":"254"},{"desc":"255","fix":"256"},{"desc":"257","fix":"258"},{"desc":"259","fix":"260"},{"desc":"261","fix":"262"},{"desc":"263","fix":"264"},"Update the dependencies array to be: [appState.messages, messages, queueIndex]",{"range":"265","text":"266"},"Update the dependencies array to be: [appState.messages, messages.length, queueIndex]",{"range":"267","text":"268"},"Update the dependencies array to be: [initializeApp]",{"range":"269","text":"270"},"Update the dependencies array to be: [delay, dispatch, message.dispatchOnSend, typing]",{"range":"271","text":"272"},"Update the dependencies array to be: [appState.eventEmitted, submit]",{"range":"273","text":"274"},"Update the dependencies array to be: [appState.eventEmitted, disabled, formData.email, formData.password, submit]",{"range":"275","text":"276"},"Update the dependencies array to be: [appState.eventEmitted, disabled, formData.color, formData.name, submit]",{"range":"277","text":"278"},"Update the dependencies array to be: [defaultValue]",{"range":"279","text":"280"},"Update the dependencies array to be: [habit]",{"range":"281","text":"282"},"Update the dependencies array to be: [date, habit.CompletedTasks]",{"range":"283","text":"284"},"Update the dependencies array to be: [appState, habitId]",{"range":"285","text":"286"},"Update the dependencies array to be: [appState.eventEmitted, dispatch]",{"range":"287","text":"288"},"Update the dependencies array to be: [appState.habits]",{"range":"289","text":"290"},[843,855],"[appState.messages, messages, queueIndex]",[982,1001],"[appState.messages, messages.length, queueIndex]",[933,935],"[initializeApp]",[1212,1219],"[delay, dispatch, message.dispatchOnSend, typing]",[919,942],"[appState.eventEmitted, submit]",[1222,1245],"[appState.eventEmitted, disabled, formData.email, formData.password, submit]",[1588,1611],"[appState.eventEmitted, disabled, formData.color, formData.name, submit]",[410,412],"[defaultValue]",[437,439],"[habit]",[1293,1295],"[date, habit.CompletedTasks]",[2245,2255],"[appState, habitId]",[1356,1379],"[appState.eventEmitted, dispatch]",[2086,2088],"[appState.habits]"]