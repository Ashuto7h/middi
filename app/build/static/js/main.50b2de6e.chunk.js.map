{"version":3,"sources":["types.ts","state/appReducer.ts","state/modifiers.ts","state/initialState.ts","components/Loading.tsx","components/icons/avatar.svg","components/Message.tsx","components/ActionButton.tsx","components/ChatBox.tsx","state/dispatchHelper.ts","env.ts","components/icons/done-shield.svg","components/RegisterForm.tsx","components/LoginForm.tsx","components/icons/done.svg","components/ColorSelect.tsx","components/AddHabitForm.tsx","utils/utils.ts","components/icons/balloons.svg","components/HabitCompleteToggle.tsx","components/HabitListItem.tsx","components/HabitList.tsx","components/Habits.tsx","components/icons/rocket.svg","components/icons/trophy.svg","components/HabitOverview.tsx","sequences/habits.ts","sequences/auth.ts","sequences/introduction.ts","state/api.ts","components/GoalAchievementParty.tsx","App.js","reportWebVitals.js","index.js"],"names":["Events","AUTH_STATE_CHANGED","MESSAGE_ADDED","ACTIONS_SET","EMIT_EVENT","SET_STATE","SET_HABITS","ADD_COMPLETED_TASK","REMOVE_COMPLETED_TASK","reducer","state","action","console","log","type","messages","payload","uuid","id","splice","length","eventEmitted","MESSAGE_REMOVED","actions","auth","habits","task","newState","habitIndex","findIndex","habit","HabitId","CompletedTasks","addCompletedTask","tasks","taskIndex","cTask","removeCompletedTask","initialState","loggedIn","name","Loading","className","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","fill","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","mask","_ref11","_ref12","SvgAvatar","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","ref","ForwardRef","AlwaysScrollToBottom","elementRef","useRef","useEffect","current","scrollIntoView","Message","message","dispatch","useContext","AppContext","delay","messageClass","text","sender","showLoader","Component","useState","typing","setTyping","waiting","setWaiting","typingTimeout","setTimeout","dispatchOnSend","delayTimeout","clearTimeout","componentProps","ActionButton","label","callback","onClick","ChatBox","appState","queueIndex","setQueueIndex","setMessages","next","updatedMessages","timer","map","dispatchHelper","params","error","env","apiUrl","habitColors","hc1","hc2","hc3","hc4","hc5","hc6","hc7","x1","y1","x2","y2","gradientUnits","offset","stopColor","cx","cy","r","SvgDoneShield","xmlnsXlink","undefined","RegisterForm","email","password","formData","setFormData","loading","setLoading","submitted","setSubmitted","setError","REGISTRATION_SUBMITTED","submit","handleInputChange","event","value","fetch","method","credentials","headers","body","JSON","stringify","then","res","json","err","postRegistrationSequence","onChange","placeholder","loginSequence","LoginForm","LOGIN_SUBMITTED","postLoginSequence","registrationSequence","points","SvgDone","ColorSelect","onColorSelect","selectedColor","setSelectedColor","handleSelect","e","values","color","style","backgroundColor","AddHabitForm","description","weeklyGoal","HABIT_FORM_SUBMITTED","parseInt","getHabits","rows","getHabitColorKey","fillRule","strokeLinecap","strokeLinejoin","strokeWidth","SvgBalloons","HabitCompleteToggle","colorKey","isCompletedToday","setIsCompletedToday","completedTask","setCompletedTask","celebrate","setCelebrate","completedToday","find","isSameDay","Date","dateCompleted","checked","val","saveTaskState","newTask","now","toString","goalCompleted","GOAL_COMPLETED","onColor","handleDiameter","uncheckedIcon","checkedIcon","boxShadow","activeBoxShadow","HabitListItem","setColorKey","HabitList","format","Habits","getLastCompletedDate","sortedTasks","sort","ca","cb","mostRecent","formatDistanceToNow","addSuffix","viewHabitOverviewSequence","viewHabit","xlinkHref","x","y","SvgRocket","SvgTrophy","HabitOverview","habitId","setHabit","currentHabit","h","getThisWeeksTasks","filter","isSameWeek","CompletedGoals","addHabitSequence","viewCompleteHabitListSequence","startMessages","messagesToAdd","unauthenticatedIntroSequence","GoalAchievementParty","explode1","setExplode1","explode2","setExplode2","config","angle","spread","startVelocity","elementCount","dragFriction","duration","stagger","colors","active","createContext","App","useReducer","initializeApp","user","catch","getAuthorizedUser","finally","freeze","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50b2de6e.chunk.js","sourcesContent":["export type Action = {\n    uuid: string;\n    label: string;\n    callback: Function;\n}\n\ntype MessageClasses = 'message--initial' | 'message--grouped' | 'message--component';\nexport type Message = {\n    uuid?: string;\n    messageClass: MessageClasses;\n    sender: 'bot' | 'user';\n    text: string;\n    delay: number;\n    showLoader: boolean;\n    dispatchOnSend?: { type: string, payload: any };\n    Component?: any\n    componentProps?: any\n}\n\ntype AuthState = {\n    loggedIn: boolean;\n    name: string;\n}\n\nexport type AppState = {\n    auth: AuthState;\n    messages: Message[];\n    actions: Action[];\n    eventEmitted: any;\n    habits: Habit[]\n};\n\nexport type Context = {\n    appState: AppState;\n    dispatch: Function;\n};\n\nexport enum Events {\n    REGISTRATION_SUBMITTED = 'REGISTRATION_SUBMITTED',\n    LOGIN_SUBMITTED = 'LOGIN_SUBMITTED',\n    MESSAGE_REMOVED = 'MESSAGE_REMOVED',\n    HABIT_FORM_SUBMITTED = 'HABIT_FORM_SUBMITTED',\n    GOAL_COMPLETED = 'GOAL_COMPLETED'\n}\n\nexport type Habit = {\n    id: number;\n    userId: number;\n    name: string;\n    description: string;\n    color: string;\n    weeklyGoal: number;\n    createdAt?: string;\n    updatedAt?: string;\n    CompletedTasks: CompletedTask[]\n    CompletedGoals: CompletedGoal[]\n}\n\nexport type CompletedTask = {\n    id?: number;\n    HabitId: number;\n    dateCompleted: string;\n    createdAt?: string;\n    updatedAt?: string;\n}\n\nexport type CompletedGoal = {\n    id: number;\n    HabitId: number;\n    weekStartDate: string;\n    createdAt: string;\n    updatedAt: string;\n}","import { AppState, Events } from '../types';\nimport { v4 as uuid } from 'uuid';\nimport { addCompletedTask, removeCompletedTask } from './modifiers';\n\nexport const AUTH_STATE_CHANGED = \"AUTH_STATE_CHANGED\";\nexport const MESSAGE_ADDED = 'MESSAGE_ADDED';\nexport const LAST_MESSAGE_REMOVED = 'LAST_MESSAGE_REMOVED';\nexport const ACTIONS_SET = 'ACTIONS_SET';\nexport const EMIT_EVENT = 'EMIT_EVENT';\nexport const SET_STATE = 'SET_STATE';\nexport const SET_HABITS = 'SET_HABITS';\nexport const ADD_COMPLETED_TASK = 'ADD_COMPLETED_TASK';\nexport const REMOVE_COMPLETED_TASK = 'REMOVE_COMPLETED_TASK';\n\nexport const reducer = (state: AppState, action: { type: string, payload: any}): AppState => {\n  console.log(action);\n  switch (action.type) {\n    case MESSAGE_ADDED:\n        return {\n            ...state,\n            messages: [\n                ...state.messages,\n                {\n                  ...action.payload,\n                  uuid: action.payload.id || uuid()\n                }\n            ]\n        }\n    case LAST_MESSAGE_REMOVED:\n      return {\n          ...state,\n          messages: state.messages.splice(0, state.messages.length-1),\n          eventEmitted: Events.MESSAGE_REMOVED\n      }\n    case ACTIONS_SET:\n        return {\n            ...state,\n            actions: action.payload\n        }\n    case AUTH_STATE_CHANGED:\n      return {\n        ...state,\n        auth: action.payload\n      };\n    case EMIT_EVENT:\n      return {\n        ...state,\n        eventEmitted: action.payload\n      }\n    case SET_HABITS:\n      return {\n        ...state,\n        habits: action.payload\n      }\n    case ADD_COMPLETED_TASK:\n      return addCompletedTask(state, action.payload);\n    case REMOVE_COMPLETED_TASK:\n      return removeCompletedTask(state, action.payload);\n    case SET_STATE:\n      return action.payload;\n  }\n  return state;\n};","import { CompletedTask, AppState, Habit } from \"../types\";\n\nexport const addCompletedTask = (state: AppState, task: CompletedTask) => {\n    console.log(task);\n    const newState = { ...state };\n    const habitIndex: number = newState.habits.findIndex((habit: Habit) => habit.id === task.HabitId);\n    const habit: Habit = {\n        ...state.habits[habitIndex],\n        CompletedTasks: [ ...state.habits[habitIndex].CompletedTasks as [], task ]\n    };\n    newState.habits[habitIndex] = habit;\n    return newState;\n};\n\nexport const removeCompletedTask = (state: AppState, task: CompletedTask) => {\n    const newState = { ...state };\n    const habitIndex: number = newState.habits.findIndex((habit: Habit) => habit.id === task.HabitId);\n    const tasks = newState.habits[habitIndex].CompletedTasks;\n    const taskIndex = tasks.findIndex(cTask => cTask.id === task.id)\n    if (taskIndex > -1) {\n        tasks.splice(taskIndex, 1);\n    }\n    const habit: Habit = {\n        ...state.habits[habitIndex],\n        CompletedTasks: tasks\n    };\n    newState.habits[habitIndex] = habit;\n    return newState;\n};","import { AppState } from '../types'\n\nexport const initialState: AppState = {\n    auth: {\n        loggedIn: false,\n        name: ''\n    },\n    messages: [],\n    actions: [],\n    eventEmitted: null,\n    habits: []\n};","import React from 'react';\n\nconst Loading = () => {\n    return (\n        <div className=\"loading\">\n            <div className=\"loading__dot\"></div>\n            <div className=\"loading__dot\"></div>\n            <div className=\"loading__dot\"></div>\n        </div>\n    )\n}\n\nexport default Loading;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M56.9775 31.4748C56.9775 46.76 44.6754 59.151 29.5 59.151C14.3246 59.151 2.02246 46.76 2.02246 31.4748C2.02246 16.1897 14.3246 3.7987 29.5 3.7987C44.6754 3.7987 56.9775 16.1897 56.9775 31.4748Z\",\n  fill: \"#6E2FBC\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M48.2919 31.9611C50.1878 31.9611 51.725 33.1807 51.725 34.6852V39.0192C51.725 40.5237 50.1878 41.7435 48.2919 41.7435C46.396 41.7435 44.8591 40.5237 44.8591 39.0192V34.6852C44.8591 33.1807 46.396 31.9611 48.2919 31.9611Z\",\n  fill: \"#BFBFE3\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.0772 34.6852V39.0192C14.0772 40.5237 12.5403 41.7435 10.6445 41.7435C8.74854 41.7435 7.21143 40.5237 7.21143 39.0192V34.6852C7.21143 33.1807 8.74854 31.9611 10.6445 31.9611C12.5403 31.9611 14.0772 33.1807 14.0772 34.6852Z\",\n  fill: \"#BFBFE3\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28.0589 21.8765C28.5372 21.2668 29.0829 21.4043 29.7362 21.8199C29.2157 22.3368 28.8105 22.8249 28.1262 22.4887C27.9236 22.3893 27.9054 22.0721 28.0589 21.8765ZM30.7008 17.8732C30.6157 17.5959 30.4868 17.3485 30.1609 17.4144C29.7633 17.4946 29.9022 17.7988 29.9652 18.0509C30.1506 18.7933 30.2964 19.5423 30.243 20.3115C30.2107 20.7748 30.207 21.3088 29.485 20.8565C29.3025 20.7421 29.051 20.7302 28.8277 20.6921C28.1577 20.5779 27.6269 20.7911 27.3087 21.4151C26.9995 22.022 27.0652 22.5918 27.5415 23.0948C28.0561 23.6375 28.6394 23.5209 29.2072 23.2271C29.54 23.0547 29.8329 22.8046 30.2602 22.5087C30.772 24.0424 30.3169 25.3464 29.7022 26.6351C29.5581 26.9382 29.0967 27.3041 29.6575 27.5838C30.111 27.8097 30.2086 27.2992 30.3549 27.0338C31.2149 25.4766 31.6538 23.8531 30.8837 22.1252C30.7069 21.7282 30.7877 21.4006 30.8748 21.0279C31.1246 19.9623 31.0203 18.9111 30.7008 17.8732\",\n  fill: \"#3A7189\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.7641 25.1761H40.5725C44.4694 25.1761 47.6283 28.3579 47.6283 32.2828V43.2658C47.6283 47.1907 44.4694 50.3725 40.5725 50.3725H18.7641C14.8675 50.3725 11.7085 47.1907 11.7085 43.2658V32.2828C11.7085 28.3579 14.8675 25.1761 18.7641 25.1761Z\",\n  fill: \"#E5BED9\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23.7751 35.304C23.7751 36.4503 22.8889 37.3797 21.7957 37.3797C20.7024 37.3797 19.8162 36.4503 19.8162 35.304C19.8162 34.1576 20.7024 33.2282 21.7957 33.2282C22.8889 33.2282 23.7751 34.1576 23.7751 35.304Z\",\n  fill: \"#5B3758\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40.0745 35.6986C40.0745 36.8449 39.1882 37.7743 38.095 37.7743C37.0017 37.7743 36.1155 36.8449 36.1155 35.6986C36.1155 34.5522 37.0017 33.6228 38.095 33.6228C39.1882 33.6228 40.0745 34.5522 40.0745 35.6986Z\",\n  fill: \"#5B3758\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"path-8-inside-1\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M36.0897 42.2341C34.7529 45.7507 25.5291 46.5014 24.5195 42.2914Z\"\n}));\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M168.796 92.6787C149.979 142.181 111.698 164.655 93.9459 172.947C73.3101 182.587 52.9954 186.352 35.6942 187.024C19.0422 187.671 -5.62546 185.86 -32.1425 173.817C-60.3077 161.025 -100.208 130.98 -113.537 75.3992L162.576 9.18372C149.752 -44.2926 111.383 -72.852 85.2731 -84.7105C60.8113 -95.8203 38.7224 -97.2494 24.6696 -96.7034C9.96772 -96.1321 -7.72737 -92.9513 -26.2261 -84.31C-41.8411 -77.0158 -78.4684 -55.9542 -96.6168 -8.21046L168.796 92.6787Z\",\n  fill: \"#5B3758\",\n  mask: \"url(#path-8-inside-1)\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35.6255 10.57C35.3221 9.38012 34.368 8.62665 33.0553 8.4837C32.9413 8.47131 32.8303 8.46527 32.7221 8.46527C31.581 8.46527 30.7692 9.13641 30.3051 10.0537C29.8202 9.0964 28.9925 8.47544 27.7857 8.47544C27.7058 8.47544 27.6242 8.47816 27.541 8.4837C26.3407 8.5634 25.3097 9.28635 24.9848 10.6956C24.4004 13.2307 27.1664 15.822 30.3052 18.3428C33.6432 15.839 36.2474 13.0089 35.6255 10.5697L35.6255 10.57Z\",\n  fill: \"#FF0000\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35.6255 10.57C35.3221 9.38012 34.368 8.62665 33.0553 8.4837C32.9413 8.47131 32.8303 8.46527 32.7221 8.46527C31.581 8.46527 30.7692 9.13641 30.3051 10.0537C29.8202 9.0964 28.9925 8.47544 27.7857 8.47544C27.7058 8.47544 27.6242 8.47816 27.541 8.4837C26.3407 8.5634 25.3097 9.28635 24.9848 10.6956C24.4004 13.2307 27.1664 15.822 30.3052 18.3428C33.6432 15.839 36.2474 13.0089 35.6255 10.5697L35.6255 10.57Z\",\n  fill: \"#FF0000\"\n});\n\nfunction SvgAvatar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"avatar\",\n    width: 60,\n    height: 60,\n    viewBox: \"0 0 59 62\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAvatar);\nexport default __webpack_public_path__ + \"static/media/avatar.9787f221.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useContext, useRef } from 'react';\nimport * as types from '../types';\nimport Loading from './Loading';\nimport { AppContext } from '../App';\nimport { ReactComponent as Avatar } from './icons/avatar.svg';\n\nconst AlwaysScrollToBottom = () => {\n    const elementRef = useRef<any>();\n    useEffect(() => elementRef.current.scrollIntoView(), []);\n    return <div ref={elementRef} />;\n  };\n\ntype MessageProps = {\n    message: types.Message;\n};\n\nconst Message = ({ message }: MessageProps) => {\n    const { dispatch } = useContext(AppContext);\n    const { delay, messageClass, text, sender, showLoader, Component } = message;\n    const [typing, setTyping] = useState(!!delay);\n    const [waiting, setWaiting] = useState(!!delay);\n\n    useEffect(() => {\n        const typingTimeout = setTimeout(() => {\n            setTyping(!typing);\n            if (message.dispatchOnSend) {\n                dispatch(message.dispatchOnSend);\n            }\n        }, delay)\n        const delayTimeout = setTimeout(() => {\n            setWaiting(!typing);\n        }, delay*0.2)\n        return () => {\n            clearTimeout(typingTimeout);\n            clearTimeout(delayTimeout);\n        };\n    }, [delay]);\n\n    return (\n        <>\n            { !waiting &&\n                (typing\n                    ? showLoader && <div className=\"message message--loading\">\n                        <Loading />\n                        <AlwaysScrollToBottom key={`${message.uuid}x`}/>\n                    </div>\n                    : <>\n                        <div className={`message message--sender-${sender} ${messageClass}`}>\n                            {messageClass === 'message--initial' && <Avatar />}\n                            {messageClass === 'message--component'\n                                ? message.componentProps ? <Component {...message.componentProps} /> : <Component />\n                                : <p>{ text }</p>\n                            }\n                            <AlwaysScrollToBottom key={`${message.uuid}x`}/>\n                        </div>\n                    </>\n                )\n            }\n        </>\n    )\n};\n\nexport default Message;","import React from 'react';\nimport * as types from '../types';\n\ntype ActionButtonProps = {\n    action: types.Action;\n}\n\nconst ActionButton = ({ action }: ActionButtonProps) => {\n    const { label, callback } = action;\n\n    return (\n        <button className=\"action-button\" onClick={() => callback()}>{ label }</button>\n    )\n};\n\nexport default ActionButton;","import React, { useState, useContext, useEffect, useRef } from 'react';\nimport { AppContext } from '../App';\nimport * as types from '../types';\nimport Message from './Message';\nimport ActionButton from './ActionButton';\n\nconst ChatBox = () => {\n  const { appState, dispatch } = useContext<types.Context>(AppContext);\n  const [queueIndex, setQueueIndex] = useState<number>(0);\n  const [messages, setMessages] = useState<types.Message[]>([]);\n\n  useEffect(() => {\n    const next = appState.messages[queueIndex]\n    const updatedMessages = [ ...messages, next ];\n    setMessages(updatedMessages);\n    if (queueIndex < appState.messages.length - 1) {\n      const delay = next.delay;\n      const timer = setTimeout(() => {\n        setQueueIndex(queueIndex + 1);\n      }, delay);\n      return () => {\n        clearTimeout(timer);\n      }\n    }\n  }, [queueIndex])\n\n  useEffect(() => {\n    if (messages.length !== appState.messages.length) {\n      setQueueIndex(queueIndex + 1);\n    }\n  }, [appState.messages])\n\n  return (\n    <div className=\"chatbox\">\n      <div className=\"chatbox__messages\" >\n        {messages.map((message: types.Message) => (\n          message && <>\n            <Message message={message} key={message.uuid} />\n          </>\n        ))}\n      </div>\n      <div className=\"chatbox__actions\">\n        {appState.actions && appState.actions.map((action: types.Action) => (\n          <ActionButton action={action} key={action.uuid} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default ChatBox;\n","const dispatchHelper = {\n  dispatch: (params: any) => {\n    console.error('store is not ready')\n  },\n}\n  \nexport default dispatchHelper;","\ntype EnvType = {\n    apiUrl: string;\n    habitColors: {\n        [key: string]: string\n    }\n};\n\nconst env: EnvType = {\n    apiUrl: process.env.NODE_ENV === 'development' ? 'http://localhost:8080/api' : 'https://middi-9hsdz.ondigitalocean.app/api',\n    habitColors: {\n        hc1: '#FFADAD',\n        hc2: '#FFD6A5',\n        hc3: '#CAFFBF',\n        hc4: '#9BF6FF',\n        hc5: '#A0C4FF',\n        hc6: '#BDB2FF',\n        hc7: '#FFC6FF'\n    }\n};\n\nexport default env;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:url(#linear-gradient);}.cls-2{fill:#5b8dc9;}.cls-3{fill:url(#linear-gradient-2);}.cls-4{fill:#c7cdd8;}.cls-5{fill:url(#linear-gradient-3);}.cls-6{fill:#7ece67;}.cls-7{fill:#47566a;}\"), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient\",\n  x1: 64,\n  y1: 127,\n  x2: 64,\n  y2: 1,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#7aa8d7\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#96c8ea\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-2\",\n  x1: 64,\n  y1: 118.65,\n  x2: 64,\n  y2: 10.22,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#dde1e8\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#f3f4f5\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-3\",\n  x1: 64,\n  y1: 85,\n  x2: 64,\n  y2: 39,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#8cdd79\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#d4e6b6\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Protection\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M64,127c-29.3-8.2-50-36.1-50-68.33V15A96.74,96.74,0,0,0,64,1a96.72,96.72,0,0,0,50,14V58.67C114,91,93.25,118.81,64,127Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M114,55.67v3c0,32-20.52,60.07-50,68.33-29.48-8.26-50-36.29-50-68.33v-3c0,32,20.52,60.07,50,68.33C93.48,115.74,114,87.71,114,55.67Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M64,118.65c-24.84-8-42-32.36-42-60v-36A105,105,0,0,0,64,10.22a105.08,105.08,0,0,0,42,12.47v36C106,86.29,88.84,110.62,64,118.65Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-4\",\n  d: \"M106,55.67v3c0,27.62-17.16,52-42,60-24.84-8-42-32.36-42-60v-3c0,27.62,17.16,52,42,60C88.84,107.62,106,83.29,106,55.67Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-4\",\n  d: \"M106,22.69v3A105.08,105.08,0,0,1,64,13.22,105,105,0,0,1,22,25.69v-3A105,105,0,0,0,64,10.22,105.08,105.08,0,0,0,106,22.69Z\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  className: \"cls-5\",\n  cx: 64,\n  cy: 62,\n  r: 23\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-6\",\n  d: \"M64,85A23,23,0,0,1,41.09,60a23,23,0,0,0,45.82,0A23,23,0,0,1,64,85Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-4\",\n  d: \"M64,89A23,23,0,0,1,41.09,64a23,23,0,0,0,45.82,0A23,23,0,0,1,64,89Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-7\",\n  d: \"M114,14A95.81,95.81,0,0,1,64.52.12C64.41.06,64-.2,63.29.23A95.78,95.78,0,0,1,14,14a1,1,0,0,0-1,1V58.67c0,32.44,20.87,61,50.75,69.31a1,1,0,0,0,.54,0C94.15,119.62,115,91.11,115,58.67V15A1,1,0,0,0,114,14Zm-1,44.69c0,31.43-20.13,59.05-49,67.27C35.15,117.72,15,90.1,15,58.67V16A98.08,98.08,0,0,0,64,2.19,98.08,98.08,0,0,0,113,16Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-7\",\n  d: \"M21.92,21.67a1,1,0,0,0-.94,1v36c0,27.76,17.56,52.83,42.71,61a1.09,1.09,0,0,0,.62,0C89.46,111.5,107,86.43,107,58.67v-36a1,1,0,0,0-.94-1A103.24,103.24,0,0,1,64.49,9.32a1.06,1.06,0,0,0-1,0A103.24,103.24,0,0,1,21.92,21.67Zm83.06,2v35c0,26.77-16.84,50.94-41,58.9-24.14-8-41-32.13-41-58.9v-35A105.26,105.26,0,0,0,64,11.38,105.26,105.26,0,0,0,105,23.63Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-7\",\n  d: \"M64,86A24,24,0,1,0,40,62,24,24,0,0,0,64,86Zm0-46A22,22,0,1,1,42,62,22,22,0,0,1,64,40Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-7\",\n  d: \"M59.28,70.72a1,1,0,0,0,1.44,0l16-16a1,1,0,0,0-1.44-1.44L60,68.56l-7.28-7.28a1,1,0,0,0-1.44,1.44Z\"\n}));\n\nfunction SvgDoneShield(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 128 128\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _ref2, title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Protection\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDoneShield);\nexport default __webpack_public_path__ + \"static/media/done-shield.e313a0f7.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useContext, useEffect, useRef } from 'react';\nimport { AppContext } from '../App';\nimport { Events } from '../types';\nimport env from '../env';\nimport Loading from './Loading';\nimport { postRegistrationSequence, loginSequence } from '../sequences/auth';\nimport { ReactComponent as Done } from './icons/done-shield.svg';\n\ntype RegisterForm = {\n    email: string;\n    password: string;\n    name: string;\n};\n\nconst RegisterForm = () => {\n    const { appState } = useContext(AppContext);\n    const [formData, setFormData] = useState<RegisterForm>({ name: '', email: '', password: '' });\n    const [loading, setLoading] = useState<boolean>(false);\n    const [submitted, setSubmitted] = useState<boolean>(false);\n    const [error, setError] = useState<string>(' ');\n\n    useEffect(() => {\n        if (appState.eventEmitted === Events.REGISTRATION_SUBMITTED) {\n            submit();\n        }\n    }, [appState.eventEmitted])\n\n    const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({\n            ...formData,\n            [event.target.name]: event.target.value\n        });\n    }\n\n    const submit = () => {\n        setLoading(true);\n        fetch(`${env.apiUrl}/auth/register`, {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(res => res.json())\n        .then(res => {\n            if (res.err) {\n                setLoading(false);\n                setError(res.err.message);\n            }\n            else {\n                setLoading(false);\n                setSubmitted(true);\n                postRegistrationSequence(formData.name);\n            }\n        })\n    }\n\n    return (\n        <div className=\"register-form\">\n            <form>\n                <h3> Sign Up</h3>\n                { loading \n                    ? <Loading />\n                    : !submitted\n                        ? <>\n                            <label>Nickname <input name=\"name\" type=\"text\" onChange={handleInputChange} placeholder=\"What should I call you?\" /></label>\n                            <label>Email <input name=\"email\" type=\"email\" onChange={handleInputChange} placeholder=\"Used for logging in\" /></label>\n                            <label>Password <input name=\"password\" type=\"password\" placeholder=\"Choose something strong\" onChange={handleInputChange} /></label>\n                        </>\n                        : <div className=\"form__placeholder-success\"><Done /></div>\n                }\n                {(!loading && !submitted) &&\n                    <div className=\"form__extra\">\n                        <p className=\"error\">{ error }</p>\n                        <a onClick={loginSequence}>Log In</a>\n                    </div>\n                }\n            </form>\n        </div>\n    )\n};\n\nexport default RegisterForm;","import React, { useState, useContext, useEffect, useRef } from 'react';\nimport { AppContext } from '../App';\nimport { Events } from '../types';\nimport env from '../env';\nimport Loading from './Loading';\nimport { postLoginSequence, registrationSequence } from '../sequences/auth';\nimport { ReactComponent as Done } from './icons/done-shield.svg';\nimport { EMIT_EVENT } from '../state/appReducer';\n\ntype LoginForm = {\n    email: string;\n    password: string;\n};\n\nconst LoginForm = () => {\n    const { appState, dispatch } = useContext(AppContext);\n    const [formData, setFormData] = useState<LoginForm>({ email: '', password: '' });\n    const [loading, setLoading] = useState<boolean>(false);\n    const [submitted, setSubmitted] = useState<boolean>(false);\n    const [error, setError] = useState<string>(' ');\n\n    useEffect(() => {\n        if (appState.eventEmitted === Events.LOGIN_SUBMITTED) {\n            submit();\n        }\n    }, [appState.eventEmitted])\n\n    const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({\n            ...formData,\n            [event.target.name]: event.target.value\n        });\n    }\n\n    const submit = () => {\n        setError('')\n        setLoading(true);\n        fetch(`${env.apiUrl}/auth/login`, {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(res => res.json())\n        .then(res => {\n            if (res.err) {\n                setLoading(false);\n                setError(res.err.message);\n            }\n            else {\n                const { name } = res;\n                setLoading(false);\n                setSubmitted(true)\n                postLoginSequence(name, appState);\n            }\n            dispatch({\n                type: EMIT_EVENT,\n                payload: ''\n            })\n        });\n    }\n\n    const showRegistration = () => {\n\n    }\n\n    return (\n        <div className=\"form login-form\">\n            <form>\n                <h3> Login</h3>\n                {loading\n                    ? <Loading />\n                    : !submitted \n                        ? <>\n                            <label>Email <input name=\"email\" type=\"email\" onChange={handleInputChange} /></label>\n                            <label>Password <input name=\"password\" type=\"password\" onChange={handleInputChange} /></label>\n                        </>\n                        : <div className=\"form__placeholder-success\"><Done /></div>\n                }\n                {(!loading && !submitted) &&\n                    <div className=\"form__extra\">\n                        <p className=\"error\">{ error }</p>\n                        <a onClick={registrationSequence}>Sign up instead</a>\n                    </div>\n                }\n            </form>\n        </div>\n    )\n};\n\nexport default LoginForm;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:url(#linear-gradient);}.cls-2{fill:#4da67f;}.cls-3{fill:url(#linear-gradient-2);}.cls-4{fill:#c7cdd8;}.cls-5{fill:#47566a;}\"), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient\",\n  x1: 64,\n  y1: 127,\n  x2: 64,\n  y2: 1,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#6ab891\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#85cba9\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-2\",\n  x1: 64,\n  y1: 110,\n  x2: 64,\n  y2: 18,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#dde1e8\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#f3f4f5\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Done\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M127,64c0,5.44-5.14,10.13-6.48,15.15-1.39,5.19.68,11.81-2,16.36s-9.46,6.12-13.2,9.86-5.25,10.53-9.86,13.2-11.17.56-16.36,2c-5,1.34-9.71,6.48-15.15,6.48s-10.13-5.14-15.15-6.48c-5.19-1.39-11.81.68-16.36-2s-6.12-9.46-9.86-13.2-10.53-5.25-13.2-9.86S8.87,84.34,7.48,79.15C6.14,74.13,1,69.44,1,64S6.14,53.87,7.48,48.85C8.87,43.66,6.8,37,9.43,32.49s9.46-6.12,13.2-9.86,5.25-10.53,9.86-13.2,11.17-.56,16.36-1.95C53.87,6.14,58.56,1,64,1S74.13,6.14,79.15,7.48C84.34,8.87,91,6.8,95.51,9.43s6.12,9.46,9.86,13.2,10.53,5.25,13.2,9.86.56,11.17,2,16.36C121.86,53.87,127,58.56,127,64Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M3,57.55A60.74,60.74,0,0,0,5.74,75.13C1.69,67.87-1.09,65.06,3,57.55Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M120.21,80.71c-.72,4.9.73,10.69-1.64,14.8-2.67,4.61-9.46,6.12-13.2,9.86s-5.25,10.53-9.86,13.2-11.17.56-16.36,2c-5,1.34-9.71,6.48-15.15,6.48s-10.13-5.14-15.15-6.48c-5.19-1.39-11.81.68-16.36-2s-6.12-9.46-9.86-13.2-10.53-5.25-13.2-9.86c-2.37-4.11-.92-9.9-1.64-14.8a61,61,0,0,0,112.42,0Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M122.26,75.13A60.74,60.74,0,0,0,125,57.55C129.07,65,126.33,67.82,122.26,75.13Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M7.79,80.71a58.75,58.75,0,0,1-2-5.57A15.09,15.09,0,0,1,7.79,80.71Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M122.26,75.14a58.75,58.75,0,0,1-2.05,5.57A15.09,15.09,0,0,1,122.26,75.14Z\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  className: \"cls-3\",\n  cx: 64,\n  cy: 64,\n  r: 46\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-4\",\n  d: \"M64,18a46,46,0,0,1,45.9,49,46,46,0,0,0-91.8,0A46,46,0,0,1,64,18Z\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"56 85.66 37.17 66.83 42.83 61.17 56 74.34 85.17 45.17 90.83 50.83 56 85.66\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-5\",\n  d: \"M64,17a47,47,0,1,0,47,47A47.07,47.07,0,0,0,64,17Zm0,92a45,45,0,1,1,45-45A45,45,0,0,1,64,109Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-5\",\n  d: \"M124.39,54.52c-3.13-5.22-3.48-6.32-3.39-12.76.12-9.2-1.16-11.51-9.33-16.06-5.48-3.05-6.3-3.87-9.37-9.37-4.59-8.24-7-9.45-16.06-9.33-6.43.08-7.52-.25-12.76-3.39-8.07-4.83-10.88-4.84-19,0C49.29,6.75,48.19,7.09,41.76,7c-9.1-.12-11.47,1.09-16.06,9.33-3.05,5.48-3.87,6.3-9.37,9.37C8.14,30.26,6.89,32.57,7,41.76c.09,6.41-.24,7.51-3.39,12.76-4.83,8.07-4.84,10.88,0,19C6.74,78.7,7.09,79.8,7,86.24c-.12,9.2,1.16,11.51,9.33,16.06,5.48,3,6.3,3.87,9.37,9.37,4.6,8.26,7,9.45,16.06,9.33,6.43-.08,7.52.25,12.76,3.39,8.07,4.83,10.88,4.84,19,0,5.23-3.13,6.32-3.47,12.76-3.39,9.17.11,11.49-1.12,16.06-9.33,3-5.48,3.87-6.3,9.37-9.37,8.19-4.56,9.44-6.87,9.33-16.06-.09-6.41.24-7.51,3.39-12.76C129.22,65.41,129.23,62.6,124.39,54.52Zm-1.72,17.93c-3.32,5.54-3.76,7-3.67,13.82.11,8.45-.79,10.1-8.3,14.28-5.82,3.24-6.9,4.32-10.15,10.15-4.19,7.53-5.84,8.4-14.28,8.3-6.81-.09-8.26.35-13.82,3.67-7.38,4.43-9.46,4.46-16.9,0C50.76,119.8,49,119,43.4,119c-3.56,0-7.58.36-10.41-1.28-4.29-2.48-5.79-9.18-9.65-13S12.78,99.29,10.3,95,9.87,84.22,8.45,78.89C7.08,73.79,2,69,2,64s5.1-9.87,6.45-14.89C9.87,43.79,7.86,37.21,10.3,33s9.18-5.79,13-9.65,5.37-10.56,9.65-13,10.8-.43,16.12-1.85C54.21,7.08,59,2,64,2s9.87,5.1,14.89,6.45C84.22,9.87,90.79,7.86,95,10.3s5.79,9.18,9.65,13,10.56,5.37,13,9.65.43,10.79,1.85,16.12C120.92,54.21,126,59,126,64,126,66.9,124.31,69.72,122.67,72.45Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-5\",\n  d: \"M85.89,44.45a1.05,1.05,0,0,0-1.44,0L56,72.9,43.55,60.45a1.05,1.05,0,0,0-1.44,0c-6.06,6.06-6,5.79-6,6.38S34.93,66,55.28,86.38a1,1,0,0,0,1.44,0C93.93,49.17,91.85,51.46,91.85,50.83S91.94,50.5,85.89,44.45ZM56,84.21,38.61,66.83l4.22-4.22L55.28,75.06a1,1,0,0,0,1.44,0L85.17,46.61l4.22,4.22Z\"\n}));\n\nfunction SvgDone(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"icon-success\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 128 128\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _ref2, title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Done\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDone);\nexport default __webpack_public_path__ + \"static/media/done.c7fd411e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport env from '../env';\n\ntype ColorSelectProps = {\n    onColorSelect: Function\n}\n\nconst ColorSelect = ({ onColorSelect }: ColorSelectProps) => {\n    const [selectedColor, setSelectedColor] = useState('');\n\n    const handleSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setSelectedColor(e.target.value);\n        onColorSelect(e);\n    }\n\n    return (\n        <div className=\"color-select\">\n            Color:\n            <div className=\"color-select__options\">\n                {Object.values(env.habitColors).map((color: string) => (\n                    <label \n                        key={color}\n                        style={{backgroundColor: color}} \n                        className={color === selectedColor ? `color-select__option--selected` : 'color-select__option'}\n                    >\n                        <input type=\"radio\" name=\"color\" value={color} onChange={handleSelect} />\n                    </label>\n                ))}\n            </div>\n        </div>\n    )\n};\n\nexport default ColorSelect;","import React, { useState, useContext, useEffect } from 'react';\nimport { AppContext } from '../App';\nimport { Events } from '../types';\nimport env from '../env';\nimport Loading from './Loading';\nimport { ReactComponent as Done } from './icons/done.svg';\nimport { EMIT_EVENT } from '../state/appReducer';\nimport { getHabits } from '../state/api';\nimport ColorSelect from './ColorSelect';\n\ntype HabitForm = {\n    name: string;\n    description: string;\n    color: string;\n    weeklyGoal: number;\n};\n\nconst AddHabitForm = () => {\n    const defaultForm = {\n        name: '',\n        description: '',\n        color: '',\n        weeklyGoal: 1\n    };\n    const { appState, dispatch } = useContext(AppContext);\n    const [formData, setFormData] = useState<HabitForm>(defaultForm);\n    const [loading, setLoading] = useState<boolean>(false);\n    const [submitted, setSubmitted] = useState<boolean>(false);\n    const [error, setError] = useState<string>(' ');\n\n    useEffect(() => {\n        if (appState.eventEmitted === Events.HABIT_FORM_SUBMITTED) {\n            submit();\n        }\n    }, [appState.eventEmitted])\n\n    const handleInputChange = (event: React.ChangeEvent<any>) => {\n        let value = event.target.value;\n        if (event.target.name === 'weeklyGoal') {\n            value = parseInt(value);\n        }\n        setFormData({\n            ...formData,\n            [event.target.name]: value\n        });\n    }\n\n    const submit = () => {\n        setError('')\n        setLoading(true);\n        fetch(`${env.apiUrl}/habits`, {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(res => res.json())\n        .then(res => {\n            if (res.err) {\n                setLoading(false);\n                setError(res.err.message);\n            }\n            else {\n                const { name } = res;\n                setLoading(false);\n                setSubmitted(true)\n                getHabits();\n            }\n            dispatch({\n                type: EMIT_EVENT,\n                payload: ''\n            })\n        });\n    }\n\n    return (\n        <div className=\"form add-habit-form\">\n            <form>\n                <h3> New Habit</h3>\n                {loading\n                    ? <Loading />\n                    : !submitted \n                        ? <>\n                            <label>Name <input name=\"name\" type=\"text\" onChange={handleInputChange} \n                                placeholder=\"Drink 3 glasses of water, Do 10 pushups...\"\n                            /></label>\n                            <label>Description (optional) <textarea name=\"description\" rows={4} onChange={handleInputChange} /></label>\n                            <ColorSelect onColorSelect={handleInputChange} />\n                            <label>Weekly goal - how many times a week are you aiming to complete this goal?\n                                <select name=\"weeklyGoal\" onChange={handleInputChange}>\n                                    <option value=\"1\">1</option>\n                                    <option value=\"2\">2</option>\n                                    <option value=\"3\">3</option>\n                                    <option value=\"4\">4</option>\n                                    <option value=\"5\">5</option>\n                                    <option value=\"6\">6</option>\n                                    <option value=\"7\">7</option>\n                                </select>\n                            </label>\n                        </>\n                        : <div className=\"form__placeholder-success\"><Done /></div>\n                }\n                {(!loading && !submitted) &&\n                    <div className=\"form__extra\">\n                        <p className=\"error\">{ error }</p>\n                    </div>\n                }\n            </form>\n        </div>\n    )\n};\n\nexport default AddHabitForm;","import { Habit } from \"../types\";\nimport env from '../env';\n\nexport const getHabitColorKey = (habit: Habit): string => {\n    const values = Object.values(env.habitColors);\n    const keys = Object.keys(env.habitColors);\n    const index = values.indexOf(habit.color);\n    return keys[index];\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m206.01 270.15c-0.4904 0.032959-0.92281 0.33325-1.125 0.78125-8.0536 16.982-4.4494 33.265 3.875 47.719s21.345 27.249 32.344 37.812c21.201 20.25 22.189 50.039 16.781 77.219-0.001953 0.041626-0.001953 0.083374 0 0.125-4.0948 34.412-1.2505 74.136 26.625 99.125 11.164 10.307 22.526 23.743 28.719 38.25 6.1932 14.507 7.2814 29.95-2 44.844-0.01059 0.010254-0.020996 0.02063-0.03125 0.03125-2.1389 3.6132-4.7729 6.9105-7.875 9.7188-0.40057 0.30456-0.59537 0.80878-0.5036 1.3036 0.091736 0.49475 0.45441 0.89557 0.93756 1.0362 0.48315 0.14062 1.0043-0.00293 1.3473-0.37109 3.3147-3.0007 6.1395-6.5145 8.4062-10.344 9.7719-15.681 8.609-32.209 2.1875-47.25-6.4214-15.041-18.059-28.711-29.406-39.188-26.87-24.088-29.814-62.744-25.781-96.75 0.003632-0.030579-0.003632-0.063171 0-0.09375 5.4731-27.586 4.5271-58.464-17.562-79.562-10.978-10.544-23.811-23.218-31.875-37.219-8.0636-14.001-11.424-29.166-3.7812-45.281 0.20424-0.42569 0.16792-0.92767-0.095459-1.3196-0.2634-0.39185-0.71449-0.61505-1.1858-0.5867z\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.664\n}), /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#0f9fe9\",\n  strokeWidth: 1.25\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m183.44 266.75c4.2066 3.2293 5.7871 8.6728 6.3229 13.732 0.42108 2.2411 0.08403 4.5009 0.12222 6.7517 0.012146 1.6569 0.9433 3.9213 2.9756 3.4894 1.4317-0.37875 2.6522-1.3348 3.8556-2.1815 3.0625-2.4373 5.2817-6.2024 9.2349-7.3227 3.2787-0.63687 6.8911-0.67349 9.6198-2.8651 1.8596-1.3253 1.3887-4.2905-0.81999-4.9463-2.2778-1.0148-4.8821-1.3597-6.822-3.0555-4.986-3.3969-8.0917-8.832-10.204-14.354-1.1476-2.0228-4.1858-1.465-5.3343 0.27655-2.6887 3.1381-3.5448 7.805-7.3946 9.9141-0.48886 0.25879-1.0135 0.45181-1.5561 0.56125z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m213.6 88.11c41.599 59.781 33.625 137.34-17.799 173.12-51.424 35.784-126.92 16.308-168.52-43.474-41.599-59.781-33.625-137.34 17.799-173.12 51.424-35.784 126.92-16.308 168.52 43.474z\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m313.85 284.21c-0.68506 0.024994-1.2394 0.56576-1.2812 1.25-1.3355 15.479-6.221 31.684-8.75 47.906s-2.6991 32.539 5.6562 48c0.019501 0.032135 0.040344 0.063385 0.0625 0.09375 10.912 16.655 28.412 25.851 45.031 35.531 16.619 9.6801 32.343 19.788 40.375 38 0.017517 0.053345 0.038391 0.10553 0.0625 0.15625 13.496 23.355 11.361 50.899 8.8125 77.094-1.8007 20.694 1.5239 43.348 17.094 58.812 8.9805 12.084 16.872 26.197 15.562 41.406-0.060425 0.73352 0.48526 1.3771 1.2188 1.4375 0.73349 0.060425 1.3771-0.48523 1.4375-1.2188 1.3993-16.255-6.9377-30.941-16.062-43.219-0.048889-0.045532-0.1011-0.08728-0.15625-0.125-14.909-14.682-18.205-36.53-16.438-56.844 2.5474-26.183 4.8366-54.347-9.0938-78.562-0.019287-0.043762-0.043121-0.081329-0.0625-0.125-8.4196-18.969-24.761-29.398-41.406-39.094-16.684-9.7179-33.685-18.753-44.125-34.688-7.9289-14.735-7.8287-30.31-5.3438-46.25 2.4898-15.971 7.412-32.224 8.7812-48.094 0.039795-0.38388-0.088837-0.76614-0.3526-1.0479-0.26376-0.28174-0.63672-0.43527-1.0224-0.42084z\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.664\n}), /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#ff007f\",\n  strokeWidth: 1.25\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m307.17 262.08c1.6083 5.0534-0.20355 10.424-2.6535 14.883-0.93445 2.0801-2.5018 3.7425-3.7561 5.6118-0.9364 1.367-1.4654 3.7575 0.44943 4.5638 1.3915 0.50687 2.9394 0.41922 4.4108 0.41162 3.9059-0.25134 7.878-2.0743 11.763-0.73584 3.055 1.3499 6.041 3.3832 9.5326 3.1428 2.2834-0.025665 3.5905-2.7286 2.1521-4.5284-1.29-2.134-3.2307-3.9047-3.8544-6.4046-2.1524-5.6361-1.5972-11.871-0.17716-17.61 0.21338-2.3158-2.599-3.5933-4.5364-2.8198-3.9993 1.0401-7.3677 4.3819-11.732 3.9141-0.5491-0.066803-1.09-0.20801-1.5978-0.42813z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m433.97 132.67c0 72.83-50.846 131.94-113.5 131.94-62.649 0-113.5-59.109-113.5-131.94 0-72.83 50.846-131.94 113.5-131.94 62.649 0 113.5 59.109 113.5 131.94z\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m455.23 287.34c-0.39536 0.043396-0.75064 0.26117-0.96875 0.59375-17.851 26.257-28.738 60.817-13.719 91.25 0.029327 0.059448 0.032959 0.12811 0.0625 0.1875 9.21 29.056 12.589 63.692-7.3125 88.812-0.021515 0.020142-0.042358 0.040985-0.0625 0.0625-18.063 26.034-19.756 58.751-11.188 88.281 7.4517 29.836-6.7578 58.159-23.062 82.688-0.01059 0.010254-0.020996 0.02063-0.03125 0.03125l-2.5312 3.9688c-0.39694 0.62134-0.21506 1.4468 0.40625 1.8438 0.62131 0.39697 1.4468 0.21509 1.8438-0.40625l2.5312-3.9688c16.433-24.723 31.146-53.853 23.406-84.844 4.88e-4 -0.020813 4.88e-4 -0.041687 0-0.0625-8.396-28.935-6.6984-60.761 10.812-86 20.713-26.216 17.03-61.937 7.6562-91.406-0.026276-0.06488-0.057617-0.12756-0.09375-0.1875-14.562-29.295-4.058-62.923 13.5-88.75 0.30579-0.43054 0.32846-1.0011 0.057739-1.4545-0.27069-0.45343-0.78366-0.70416-1.3077-0.63925z\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.664\n}), /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#007fff\",\n  strokeWidth: 1.25\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m454.65 269.53c0.022003 5.3031-3.3146 9.8855-6.9868 13.406-1.5142 1.705-3.5074 2.822-5.2637 4.2302-1.3026 1.024-2.523 3.1466-0.93722 4.489 1.176 0.90015 2.6792 1.2799 4.0854 1.713 3.8021 0.92932 8.1377 0.37891 11.444 2.8188 2.5109 2.2025 4.7514 5.0364 8.1548 5.8521 2.1863 0.65897 4.2426-1.5288 3.4089-3.6766-0.5921-2.4223-1.9138-4.6927-1.7606-7.2647-0.36664-6.022 2.0294-11.805 5.1022-16.856 0.89679-2.1458-1.4043-4.2065-3.4844-4.0484-4.1273-0.20468-8.3416 1.9756-12.366 0.22284-0.50394-0.22809-0.97775-0.52475-1.3964-0.88675z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m614.37 184.02c-21.8 69.491-88.008 110.67-147.78 91.918-59.777-18.753-90.598-90.371-68.798-159.86 21.8-69.491 88.008-110.67 147.78-91.918 59.777 18.753 90.598 90.371 68.798 159.86z\"\n})));\n\nfunction SvgBalloons(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"balloons\",\n    viewBox: \"0 0 640 480\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBalloons);\nexport default __webpack_public_path__ + \"static/media/balloons.f868f7e9.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useContext } from 'react';\nimport { AppContext } from '../App';\nimport { CompletedTask, Events, Habit } from '../types';\nimport Switch from 'react-switch';\nimport isSameDay from 'date-fns/isSameDay';\nimport { ReactComponent as Balloons } from './icons/balloons.svg';\nimport { getHabits, saveTaskState } from '../state/api';\nimport { ADD_COMPLETED_TASK, EMIT_EVENT, REMOVE_COMPLETED_TASK } from '../state/appReducer';\nimport env from '../env';\n\ntype HabitCompleteToggleProps = {\n    habit: Habit,\n    colorKey: string\n};\n\nconst HabitCompleteToggle = ({ habit, colorKey }: HabitCompleteToggleProps) => {\n\n    const { dispatch } = useContext(AppContext);\n    const [isCompletedToday, setIsCompletedToday] = useState<boolean>(false);\n    const [completedTask, setCompletedTask] = useState<CompletedTask | null>(null);\n    const [celebrate, setCelebrate] = useState<boolean>(false);\n\n    useEffect(() => {\n        const completedToday = habit.CompletedTasks.find((task: CompletedTask) => {\n            return isSameDay(new Date(task.dateCompleted), new Date());\n        });\n        if (completedToday) {\n            setIsCompletedToday(true);\n            setCompletedTask(completedToday);\n        }\n    }, [])\n\n    const onCompleteToggle = (val: boolean) => {\n        if (completedTask) {\n            saveTaskState(completedTask, 'DELETE')\n            .then(res => {\n                setCompletedTask(null);\n                setIsCompletedToday(val);\n                dispatch({\n                    type: REMOVE_COMPLETED_TASK,\n                    payload: completedTask\n                });\n            });\n        }\n        else {\n            const newTask: CompletedTask = {\n                HabitId: habit.id,\n                dateCompleted: Date.now().toString(),\n            };\n            saveTaskState(newTask, 'POST')\n                .then(res => {\n                    setCelebrate(val);\n                    setIsCompletedToday(val);\n                    setCompletedTask(res.completedTask);\n                    dispatch({\n                        type: ADD_COMPLETED_TASK,\n                        payload: res.completedTask\n                    });\n                    if (res.goalCompleted) {\n                        // Trigger goal achievement party\n                        getHabits();\n                        dispatch({\n                            type: EMIT_EVENT,\n                            payload: Events.GOAL_COMPLETED\n                        });\n                    }\n                });\n        }\n    }\n\n    return (\n        <>\n            <div className=\"habit-complete-toggle\">\n                <p className={isCompletedToday ? '' : 'item-status--transparent'}>Nice job! </p>\n                <label>\n                    <Switch \n                        checked={isCompletedToday}\n                        onChange={onCompleteToggle}\n                        onColor={env.habitColors[colorKey]}\n                        handleDiameter={20}\n                        uncheckedIcon={false}\n                        checkedIcon={false}\n                        boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n                        activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n                        height={20}\n                        width={48}\n                    />\n                </label>\n            </div>\n            {celebrate && <Balloons />}\n        </>\n    )\n}\n\nexport default HabitCompleteToggle;","import React, { useEffect, useState } from 'react';\nimport { Habit } from '../types';\nimport { getHabitColorKey } from '../utils/utils';\nimport HabitCompleteToggle from './HabitCompleteToggle';\n\ntype HabitListItemProps = {\n    habit: Habit\n};\n\nconst HabitListItem = ({ habit }: HabitListItemProps) => {\n    const [colorKey, setColorKey] = useState<string>('');\n\n    useEffect(() => {\n        setColorKey(getHabitColorKey(habit));\n    }, [])\n\n    return (\n        <div className={`habit-list__item habit-list__item--${colorKey}`}>\n            {habit.name}\n            <HabitCompleteToggle habit={habit} colorKey={colorKey} />\n        </div>\n    )\n};\n\nexport default HabitListItem","import React, { useState, useContext } from 'react';\nimport { AppContext } from '../App';\nimport HabitListItem from './HabitListItem';\nimport format from 'date-fns/format';\nimport { Habit } from '../types';\n\nconst HabitList = () => {\n    const { appState } = useContext(AppContext);\n\n    return (\n        <div className=\"habit-list\">\n            <p className=\"habit-list__title\">{format(new Date(), 'EEEE, do LLLL yyyy')}</p>\n            <p className=\"habit-list__subtitle\">Toggle a habit to complete it for today</p>\n            {appState.habits.map((habit: Habit) => (\n                <HabitListItem habit={habit} key={habit.id} />\n            ))}\n        </div>\n    )\n};\n\nexport default HabitList;","import React, { useContext } from 'react';\nimport { AppContext } from '../App';\nimport { CompletedTask, Habit } from '../types';\nimport { getHabitColorKey } from '../utils/utils';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { viewHabitOverviewSequence } from '../sequences/habits';\n\nconst Habits = () => {\n    const { appState, dispatch } = useContext(AppContext);\n\n    const getLastCompletedDate = (habit: Habit): string => {\n        if (habit.CompletedTasks?.length) {\n            const sortedTasks = habit.CompletedTasks.sort((ca: CompletedTask, cb: CompletedTask) => {\n                return (new Date(cb.dateCompleted) as any) - (new Date(ca.dateCompleted) as any);\n            });\n            const mostRecent = new Date(sortedTasks[0].dateCompleted);\n            return `Last completed ${formatDistanceToNow(mostRecent, { addSuffix: true })}`\n        }\n        return ''\n    }\n\n    const viewHabit = (habit: Habit) => {\n        viewHabitOverviewSequence(habit);\n    }\n\n    return (\n        <div className=\"habits habit-list\">\n            {appState.habits.map((habit: Habit) => (\n                <div className={`habit-list__item habit-list__item--${getHabitColorKey(habit)}`} key={habit.id}>\n                    <div className=\"habits__description\">\n                        {habit.name}\n                        <p>{getLastCompletedDate(habit)}</p>\n                    </div>\n                    <button className=\"button\" onClick={() => viewHabit(habit)}>View</button>\n                </div>\n            ))}\n        </div>\n    )\n};\n\nexport default Habits;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:url(#linear-gradient);}.cls-2{fill:#c7cdd8;}.cls-3{fill:url(#linear-gradient-2);}.cls-4{fill:#5b8dc9;}.cls-5{fill:url(#linear-gradient-3);}.cls-6{fill:#77cacb;}.cls-7{fill:url(#linear-gradient-4);}.cls-8{fill:url(#linear-gradient-5);}.cls-9{fill:url(#linear-gradient-6);}.cls-10{fill:url(#linear-gradient-7);}.cls-11{fill:url(#linear-gradient-8);}.cls-12{fill:#47566a;}\"), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient\",\n  x1: 64,\n  y1: 95,\n  x2: 64,\n  y2: 1,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#dde1e8\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#f3f4f5\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-2\",\n  x1: 64,\n  y1: 16.6,\n  x2: 64,\n  y2: 1,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#7aa8d7\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#96c8ea\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-3\",\n  x1: 64,\n  y1: 73,\n  x2: 64,\n  y2: 47,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#9dd5df\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#c3e1f5\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-4\",\n  x1: 64,\n  y1: 103,\n  x2: 64,\n  y2: 95,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#949aaf\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#c6ccda\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-5\",\n  x1: 100,\n  y1: 88,\n  x2: 100,\n  y2: 54,\n  xlinkHref: \"#linear-gradient-2\"\n}), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-6\",\n  x1: 28,\n  y1: 88,\n  x2: 28,\n  y2: 54,\n  xlinkHref: \"#linear-gradient-2\"\n}), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-7\",\n  x1: 64,\n  y1: 127,\n  x2: 64,\n  y2: 103,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#da5466\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#e87092\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-8\",\n  x1: 64,\n  y1: 117,\n  x2: 64,\n  y2: 103,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#fbcc88\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#ffe5c3\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Launching\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M86,37V89.29A5.57,5.57,0,0,1,80.58,95H47.42A5.57,5.57,0,0,1,42,89.29V37A42.7,42.7,0,0,1,59,2.66a8.29,8.29,0,0,1,10,0A42.73,42.73,0,0,1,86,37Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M86,83.29v6A5.57,5.57,0,0,1,80.58,95H47.42A5.57,5.57,0,0,1,42,89.29v-6A5.57,5.57,0,0,0,47.42,89H80.58A5.57,5.57,0,0,0,86,83.29Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M79.07,13.43a37.38,37.38,0,0,1-30.14,0A40.85,40.85,0,0,1,59,2.66a8.29,8.29,0,0,1,10,0A40.63,40.63,0,0,1,79.07,13.43Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-4\",\n  d: \"M79.07,13.43a37.38,37.38,0,0,1-30.14,0,42.32,42.32,0,0,1,2.82-3.85,38.13,38.13,0,0,0,24.5,0A42.7,42.7,0,0,1,79.07,13.43Z\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  className: \"cls-5\",\n  cx: 64,\n  cy: 60,\n  r: 13\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-6\",\n  d: \"M76.85,62a13,13,0,0,0-25.7,0,13,13,0,1,1,25.7,0Z\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-7\",\n  points: \"48 95 80 95 78 103 50 103 48 95\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-8\",\n  points: \"86 54 114 76.63 114 88 86 88 86 54\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-9\",\n  points: \"42 54 14 76.63 14 88 42 88 42 54\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  className: \"cls-4\",\n  x: 86,\n  y: 82,\n  width: 28,\n  height: 6\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  className: \"cls-4\",\n  x: 14,\n  y: 82,\n  width: 28,\n  height: 6\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-10\",\n  d: \"M70.69,103A7.43,7.43,0,0,1,73,108.33c0,8-9,18.67-9,18.67s-9-10.67-9-18.67A7.43,7.43,0,0,1,57.31,103\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-11\",\n  d: \"M67.9,103a4.33,4.33,0,0,1,1.35,3.11C69.25,110.78,64,117,64,117s-5.25-6.22-5.25-10.89A4.33,4.33,0,0,1,60.1,103\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-12\",\n  d: \"M64,46A14,14,0,1,0,78,60,14,14,0,0,0,64,46Zm0,26A12,12,0,1,1,76,60,12,12,0,0,1,64,72Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-12\",\n  d: \"M114.64,75.83,87,53.51V37c0-14.57-7.28-24.57-7-24,0,0,0-.05,0-.08A41.91,41.91,0,0,0,69.59,1.84a9.31,9.31,0,0,0-11.17,0A43.72,43.72,0,0,0,41,37V53.51L13.36,75.83c-.53.44-.38-.06-.38,12.17a1,1,0,0,0,1,1H41a6.63,6.63,0,0,0,6.22,7L49,103.25a1,1,0,0,0,1,.77h5.21A8.25,8.25,0,0,0,54,108.33c0,8.28,8.86,18.88,9.24,19.33a1,1,0,0,0,1.56,0c.38-.45,9.24-11,9.24-19.33A8.25,8.25,0,0,0,72.79,104H78a1,1,0,0,0,1-.77L80.8,96C84,95.9,87,93.25,87,89h27a1,1,0,0,0,1-1C115,75.77,115.17,76.27,114.64,75.83Zm-55-72.35a7.29,7.29,0,0,1,8.75,0A39.44,39.44,0,0,1,77.53,13a36.47,36.47,0,0,1-27.06,0A39.17,39.17,0,0,1,59.63,3.48ZM15,87V77.12l26-21V87Zm57,21.35c0,6.18-5.83,14.27-8,17-2.15-2.77-8-10.86-8-17A6.41,6.41,0,0,1,57.75,104h12.5A6.41,6.41,0,0,1,72,108.33ZM77.2,102H50.8l-1.49-6H78.69ZM85,89.29A4.55,4.55,0,0,1,80.58,94H47.42A4.55,4.55,0,0,1,43,89.29V37a42.18,42.18,0,0,1,6.33-22.28,38.43,38.43,0,0,0,29.32,0C86.48,27.25,85,38.06,85,54ZM113,87H87V56.14l26,21Z\"\n}));\n\nfunction SvgRocket(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 128 128\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _ref2, title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Launching\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRocket);\nexport default __webpack_public_path__ + \"static/media/rocket.2d064ec4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:url(#linear-gradient);}.cls-2{fill:#f6b756;}.cls-3{fill:url(#linear-gradient-2);}.cls-4{fill:#cba07a;}.cls-5{fill:url(#linear-gradient-3);}.cls-6{fill:url(#linear-gradient-5);}.cls-7{fill:url(#linear-gradient-6);}.cls-8{fill:#c7cdd8;}.cls-9{fill:url(#linear-gradient-7);}.cls-10{fill:#7ece67;}.cls-11{fill:#47566a;}\"), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient\",\n  x1: 64,\n  y1: 95,\n  x2: 64,\n  y2: 78.53,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#fbcc88\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#ffe5c3\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-2\",\n  x1: 64,\n  y1: 127,\n  x2: 64,\n  y2: 101.1,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#d1a788\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#f2d3b8\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-3\",\n  y1: 79,\n  y2: 1,\n  xlinkHref: \"#linear-gradient\"\n}), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-5\",\n  y1: 101,\n  y2: 95,\n  xlinkHref: \"#linear-gradient\"\n}), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-6\",\n  x1: 64,\n  y1: 121,\n  x2: 64,\n  y2: 107,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#dde1e8\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#f3f4f5\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient-7\",\n  x1: 64,\n  y1: 58,\n  x2: 64,\n  y2: 12,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#8cdd79\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#d4e6b6\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Success\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  className: \"cls-1\",\n  x: 61,\n  y: 78.53,\n  width: 6,\n  height: 16.47\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  className: \"cls-2\",\n  x: 61,\n  y: 92,\n  width: 6,\n  height: 3\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-3\",\n  points: \"89.2 127 38.8 127 41.95 101.1 86.05 101.1 89.2 127\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-4\",\n  points: \"89.2 127 38.8 127 39.29 123 88.71 123 89.2 127\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-5\",\n  d: \"M64,79C45.23,76.91,31.51,59.77,30.66,39.86L29,1H99L97.34,39.86C96.48,59.9,82.65,76.92,64,79Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-5\",\n  d: \"M64,79C45.23,76.91,31.51,59.77,30.66,39.86L29,1H99L97.34,39.86C96.48,59.9,82.65,76.92,64,79Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M97.34,39.86C96.47,60.31,82.28,77,64,79,45.72,77,31.53,60.31,30.66,39.86c-2-47.32-2.18-55.08,0-4C31.53,56.31,45.72,73,64,75c18.28-2,32.47-18.69,33.34-39.14C99.52-15.18,99.36-7.5,97.34,39.86Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-6\",\n  d: \"M71,99v2H57V99a4,4,0,0,1,4-4h6A4,4,0,0,1,71,99Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M71,99.36V101H57V99.36A4,4,0,0,1,60,98C68.14,98,69.44,97.56,71,99.36Z\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  className: \"cls-7\",\n  x: 51,\n  y: 107,\n  width: 26,\n  height: 14\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  className: \"cls-8\",\n  x: 51,\n  y: 118,\n  width: 26,\n  height: 3\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  className: \"cls-9\",\n  cx: 64,\n  cy: 35,\n  r: 23\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-10\",\n  d: \"M64,58A23,23,0,0,1,41.09,33a23,23,0,0,0,45.82,0A23,23,0,0,1,64,58Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M64,62A23,23,0,0,1,41.09,37a23,23,0,0,0,45.82,0A23,23,0,0,1,64,62Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-11\",\n  d: \"M51,122H77a1,1,0,0,0,1-1V107a1,1,0,0,0-1-1H51a1,1,0,0,0-1,1v14A1,1,0,0,0,51,122Zm1-14H76v12H52Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-11\",\n  d: \"M112,2c-5.77,0-10.07,2.4-12.3,6.56L100,1A1,1,0,0,0,99,0C24.24,0,28.73-.19,28.26.29s-.3.19,0,8.25C26.07,4.38,21.77,2,16,2,6,2,0,8,0,18,0,34.63,30.34,40,30.34,48.09,30.34,50.67,29.21,52,27,52c-1.09,0-2.59-1.72-3.15-2.55a1,1,0,0,0-1.7,1.14C22.39,50.92,24.53,54,27,54a5.17,5.17,0,0,0,4.64-2.55C36,65.44,46.71,76.27,60,79.34V94.08A5,5,0,0,0,56,99v1.08H42a1,1,0,0,0-1,.9l-3,25H35a1,1,0,0,0,0,2H93a1,1,0,0,0,0-2H90.1l-3-25a1,1,0,0,0-1-.9H72V99a5,5,0,0,0-4-4.92V79.34c13.27-3.07,24-13.9,28.34-27.87A5.17,5.17,0,0,0,101,54c2.47,0,4.61-3.1,4.85-3.45a1,1,0,0,0-1.7-1.14c-.56.83-2.06,2.55-3.15,2.55-2.21,0-3.34-1.31-3.34-3.89C97.66,40,128,34.6,128,18,128,8,122,2,112,2Zm-24,124H40l2.9-23.86h42.3ZM2,18C2,9.12,7.12,4,16,4c7.61,0,12,4.37,12,12a10,10,0,0,1-5.41,9.07,1,1,0,0,0,.86,1.86,12.34,12.34,0,0,0,5.42-5.58c.85,20,.78,19.46,1.06,21.83C22.82,36.21,2,30.64,2,18ZM70,99v1H58V99a3,3,0,0,1,3-3h6A3,3,0,0,1,70,99Zm-4-5H62V79.75a7.93,7.93,0,0,0,4,0ZM64,78c-17.59-2-31.48-18.4-32.32-38.15L30.06,2H97.94l-1.62,37.8C95.48,59.57,81.59,76,64,78ZM98.09,43.18c.32-2.73.28-3.48,1.06-21.83a12.34,12.34,0,0,0,5.42,5.58,1,1,0,0,0,.86-1.86A10,10,0,0,1,100,16c0-7.61,4.37-12,12-12,8.88,0,14,5.1,14,14C126,30.66,105.2,36.19,98.09,43.18Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-11\",\n  d: \"M64,11A24,24,0,1,0,88,35,24,24,0,0,0,64,11Zm0,46A22,22,0,1,1,86,35,22,22,0,0,1,64,57Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-11\",\n  d: \"M75.28,26.28,60,41.56l-7.28-7.28a1,1,0,0,0-1.44,1.44C59.91,44.35,59.4,44,60,44s-.8,1.22,16.72-16.3A1,1,0,0,0,75.28,26.28Z\"\n}));\n\nfunction SvgTrophy(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 128 128\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _ref2, title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Success\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrophy);\nexport default __webpack_public_path__ + \"static/media/trophy.7e9ab188.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useContext } from 'react';\nimport { AppContext } from '../App';\nimport { CompletedTask, Habit } from '../types';\nimport { getHabitColorKey } from '../utils/utils';\nimport HabitCompleteToggle from './HabitCompleteToggle';\nimport isSameWeek from 'date-fns/isSameWeek';\nimport { ReactComponent as Rocket } from './icons/rocket.svg';\nimport { ReactComponent as Trophy } from './icons/trophy.svg';\n\ntype HabitOverviewProps = {\n    habitId: number\n};\n\nconst HabitOverview = ({ habitId }: HabitOverviewProps) => {\n    const { appState } = useContext(AppContext);\n    const [colorKey, setColorKey] = useState<string>('');\n    const [habit, setHabit] = useState<Habit | any>(null);\n\n\n    useEffect(() => {\n        const currentHabit = appState.habits.find((h: Habit) => h.id === habitId );\n        setColorKey(getHabitColorKey(currentHabit));\n        setHabit(currentHabit);\n    }, [appState.habits])\n\n    const getThisWeeksTasks = () => {\n        const tasks = habit.CompletedTasks.filter((task: CompletedTask) => {\n            return isSameWeek(new Date(task.dateCompleted), new Date());\n        });\n        return tasks.length;\n    }\n\n    return (\n        habit && <div className={`habit-overview habit-overview--${colorKey}`}>\n            <div className=\"habit-overview__header\">\n                <div className=\"ho__header__title\">\n                    <p>{habit.name}</p>\n                    <p>{habit.description}</p>\n                </div>\n                <div className=\"habit-overview__toggle\">\n                    <p>Today</p>\n                    <HabitCompleteToggle habit={habit} colorKey={colorKey} />\n                </div>\n            </div>\n            <div className=\"habit-overview__stats\">\n                <div className=\"habit-overview__progress\">\n                    <div>\n                        <Rocket />\n                        <p>{getThisWeeksTasks()}/{habit.weeklyGoal}</p>\n                    </div>\n                    <span>Weekly goal</span>\n                    <div className=\"progress-bar\">\n                        <div className=\"progress-bar--filler\" style={{ width: `${(getThisWeeksTasks()/habit.weeklyGoal)*100}%` }}></div>\n                    </div>\n                </div>\n                <div className=\"habit-overview__badges\">\n                    <div>\n                        <Trophy />\n                        <p>{habit.CompletedGoals.length}</p>\n                    </div>\n                    <span>Goals completed</span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default HabitOverview;","import { Events, Habit, Message } from '../types';\nimport { v4 as uuid } from 'uuid';\nimport dispatchHelper from '../state/dispatchHelper';\nimport { ACTIONS_SET, MESSAGE_ADDED, EMIT_EVENT } from '../state/appReducer';\nimport AddHabitForm from '../components/AddHabitForm';\nimport HabitList from '../components/HabitList';\nimport { startMessages } from './introduction';\nimport Habits from '../components/Habits';\nimport HabitOverview from '../components/HabitOverview';\n\n\nexport const addHabitSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: AddHabitForm\n        }\n    });\n\n    // Submit button\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Submit', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EMIT_EVENT,\n                        payload: Events.HABIT_FORM_SUBMITTED\n                })\n            }}\n        ]\n    })\n}\n\nexport const viewHabitListSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: Habits\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Done', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                    })\n                }}\n        ]\n    })\n}\n\n\nexport const viewCompleteHabitListSequence = () => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: HabitList\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Done', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            messageClass: 'message--initial',\n                            uuid: uuid(),\n                            sender: 'bot',\n                            text: 'Keep up the good work! ',\n                            delay: 1000,\n                            showLoader: false,\n                            Component: HabitList\n                        }\n                    })\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                    })\n                }}\n        ]\n    })\n}\n\nexport const viewHabitOverviewSequence = (habit: Habit) => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: HabitOverview,\n            componentProps: {\n                habitId: habit.id\n            }\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Done', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: MESSAGE_ADDED,\n                        payload: {\n                            ...startMessages,\n                            text: `What's next?`\n                        }\n                    })\n                }}\n        ]\n    })\n}","import dispatchHelper from '../state/dispatchHelper';\nimport { ACTIONS_SET, MESSAGE_ADDED, EMIT_EVENT, SET_STATE } from '../state/appReducer';\nimport RegisterForm from '../components/RegisterForm';\nimport { AppState, Events, Message } from '../types';\nimport LoginForm from '../components/LoginForm';\nimport { v4 as uuid } from 'uuid';\nimport { addHabitSequence, viewCompleteHabitListSequence, viewHabitListSequence } from './habits';\n\nexport const registrationSequence = (): void => {\n    // Add registration component\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: RegisterForm\n        }\n    })\n    // Submit button\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            { \n                uuid: uuid(),\n                label: 'Submit', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EMIT_EVENT,\n                        payload: Events.REGISTRATION_SUBMITTED\n                })\n            }}\n        ]\n    })\n}\n\nexport const loginSequence = (): void => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--component',\n            uuid: uuid(),\n            sender: 'bot',\n            text: null,\n            delay: 1000,\n            showLoader: false,\n            Component: LoginForm\n        }\n    })\n    dispatchHelper.dispatch({\n        type: ACTIONS_SET,\n        payload: [\n            {\n                uuid: uuid(),\n                label: 'Submit', \n                callback: () => {\n                    dispatchHelper.dispatch({\n                        type: EMIT_EVENT,\n                        payload: Events.LOGIN_SUBMITTED\n                    })\n            }}\n        ]\n    })\n}\n\nexport const postRegistrationSequence = (name: string) => {\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--inital',\n            uuid: uuid(),\n            sender: 'bot',\n            text: `Nice to meet you ${name}! We're on our way to building healthy habits `,\n            delay: 1500,\n            showLoader: false\n        }\n    });\n\n    dispatchHelper.dispatch({\n        type: MESSAGE_ADDED,\n        payload: {\n            messageClass: 'message--grouped',\n            sender: 'bot',\n            text: `First thing's first though, let's get a habit set up for you to track`,\n            delay: 2500,\n            showLoader: true,\n            uuid: uuid(),\n            dispatchOnSend: {\n                type: 'ACTIONS_SET',\n                payload: [\n                {\n                    uuid: uuid(),\n                    label: 'Add a habit',\n                    callback: addHabitSequence\n                }]\n            }\n        }\n    });\n}\n\nexport const postLoginSequence = (name: string, state: AppState) => {\n\n    const messagesToAdd: Message[] = [\n        {\n            messageClass: 'message--initial',\n            sender: 'bot',\n            text: `Welcome back ${name}! Good to see you again `,\n            delay: 1500,\n            showLoader: false,\n            uuid: uuid()\n        },\n        {\n            messageClass: 'message--grouped',\n            sender: 'bot',\n            text: `How can I help you today?`,\n            delay: 1500,\n            showLoader: true,\n            uuid: uuid(),\n            dispatchOnSend: {\n                type: 'ACTIONS_SET',\n                payload: [{\n                    uuid: uuid(),\n                    label: 'Complete a habit',\n                    callback: viewCompleteHabitListSequence\n                },\n                {\n                    uuid: uuid(),\n                    label: 'Add a habit',\n                    callback: addHabitSequence\n                }]\n            }\n        }\n    ]\n\n    const newState: AppState = {\n        ...state,\n        auth: {\n            loggedIn: true,\n            name\n        },\n        messages: [ ...state.messages, ...messagesToAdd ]\n    }\n\n    dispatchHelper.dispatch({\n        type: SET_STATE,\n        payload: newState\n    });\n}","import { Message } from '../types';\nimport { registrationSequence, loginSequence } from './auth';\nimport { v4 as uuid } from 'uuid';\nimport { addHabitSequence, viewCompleteHabitListSequence, viewHabitListSequence } from './habits';\n\nexport const startMessages: Message = {\n    messageClass: 'message--grouped',\n    sender: 'bot',\n    text: `How can I help you?`,\n    delay: 1500,\n    showLoader: true,\n    uuid: uuid(),\n    dispatchOnSend: {\n        type: 'ACTIONS_SET',\n        payload: [\n            {\n                uuid: uuid(),\n                label: 'View my habits',\n                callback: viewHabitListSequence\n            },\n            {\n                uuid: uuid(),\n                label: 'Complete a habit',\n                callback: viewCompleteHabitListSequence\n            },\n            {\n                uuid: uuid(),\n                label: 'Weekly overview',\n                callback: addHabitSequence\n            }\n        ]\n    }\n}\n\nexport const unauthenticatedIntroSequence = (): Message[] => [{\n    messageClass: 'message--initial',\n    sender: 'bot',\n    text: 'Hi!',\n    delay: 500,\n    showLoader: false,\n    uuid: uuid()\n},\n{\n    messageClass: 'message--grouped',\n    sender: 'bot',\n    text: `My name's Middi. I'm here to help you create healthy habits while working from home.`,\n    delay: 2000,\n    showLoader: true,\n    uuid: uuid()\n},\n{\n    messageClass: 'message--grouped',\n    sender: 'bot',\n    text: `You can visit any time and I'll help you measure your habit progress.`,\n    delay: 5000,\n    showLoader: true,\n    uuid: uuid()\n},\n{\n    messageClass: 'message--grouped',\n    sender: 'bot',\n    text: `Ready to get started?`,\n    delay: 7000,\n    showLoader: true,\n    uuid: uuid(),\n    dispatchOnSend: {\n        type: 'ACTIONS_SET',\n        payload: [{\n            uuid: uuid(),\n            label: 'Log in',\n            callback: loginSequence\n        },\n        {\n            uuid: uuid(),\n            label: 'Sign up',\n            callback: registrationSequence\n        }]\n    }\n}]\n\nexport const authenticatedIntroSequence = (name: string): Message[] => [{\n        messageClass: 'message--initial',\n        sender: 'bot',\n        text: `Hi ${name}! Good to see you again `,\n        delay: 500,\n        showLoader: false,\n        uuid: uuid()\n    },\n    startMessages\n]\n","import env from '../env';\nimport dispatchHelper from './dispatchHelper';\nimport { authenticatedIntroSequence, unauthenticatedIntroSequence } from '../sequences/introduction';\nimport { AppState, CompletedTask } from '../types';\nimport { AUTH_STATE_CHANGED, SET_HABITS, SET_STATE } from './appReducer';\n\nexport const getAuthorizedUser = (appState: AppState) => {\n    return fetch(`${env.apiUrl}/auth/auth-user`, {\n      credentials: 'include',\n    })\n    .then(res => res.json())\n    .then(res => {\n      // authenticated user\n      if (res.user) {\n        dispatchHelper.dispatch({\n          type: SET_STATE,\n          payload: {\n            ...appState,\n            messages: authenticatedIntroSequence(res.user.name)\n          }\n        });\n        dispatchHelper.dispatch({\n          type: AUTH_STATE_CHANGED,\n          payload: {\n            loggedIn: true,\n            name: res.user.name\n          }\n        });\n      }\n      else {\n        // unauthenticated user\n        dispatchHelper.dispatch({\n          type: SET_STATE,\n          payload: {\n            ...appState,\n            messages: unauthenticatedIntroSequence()\n          }\n        });\n      }\n    })\n    .catch(res => {\n      // unauthenticated user\n      dispatchHelper.dispatch({\n        type: SET_STATE,\n        payload: {\n          ...appState,\n          messages: unauthenticatedIntroSequence()\n        }\n      });\n    });\n}\n\nexport const getHabits = () => {\n    return fetch(`${env.apiUrl}/habits`, {\n        credentials: 'include',\n    })\n    .then(res => res.json())\n    .then(res => {\n        if (res.err) {\n          console.log(res.error);\n        }\n        else {\n          dispatchHelper.dispatch({\n            type: SET_HABITS,\n            payload: res.habits\n          })\n        }\n    });\n} \n\nexport const saveTaskState = (task: CompletedTask, method: 'DELETE' | 'POST') => {\n  return fetch(`${env.apiUrl}/completed-tasks`, {\n    credentials: 'include',\n    method,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(task)\n  })\n  .then(res => res.json())\n}\n\nexport const addPuff = () => {}","import React, { useContext, useEffect, useState } from 'react';\nimport { AppContext } from '../App';\nimport Confetti from 'react-dom-confetti';\nimport { Events } from '../types';\nimport { EMIT_EVENT, MESSAGE_ADDED } from '../state/appReducer';\nimport { v4 as uuid } from 'uuid';\n\nconst GoalAchievementParty = () => {\n    const { appState, dispatch } = useContext(AppContext);\n    const [explode1, setExplode1] = useState(false);\n    const [explode2, setExplode2] = useState(false);\n\n    useEffect(() => {\n        if (appState.eventEmitted === Events.GOAL_COMPLETED) {\n            setExplode1(true);\n            setTimeout(() => {\n                setExplode2(true);\n            }, 200)\n            setExplode2(true);\n            dispatch({\n                type: EMIT_EVENT,\n                payload: null\n            });\n            dispatch({\n                type: MESSAGE_ADDED,\n                payload: {\n                    messageClass: 'message--initial',\n                    sender: 'bot',\n                    text: `Heck yeah! You achieved your weekly goal `,\n                    delay: 1000,\n                    showLoader: true,\n                    uuid: uuid()\n                }\n            });\n            setTimeout(() => {\n                setExplode1(false);\n                setExplode2(false);\n            }, 500)\n        }\n    }, [appState.eventEmitted])\n\n    const config = {\n        angle: 70,\n        spread: 60,\n        startVelocity: 40,\n        elementCount: 70,\n        dragFriction: 0.12,\n        duration: 850,\n        stagger: 3,\n        width: \"10px\",\n        height: \"10px\",\n        colors: [\"#a864fd\", \"#29cdff\", \"#78ff44\", \"#ff718d\", \"#fdff6a\"]\n      };\n\n    return (\n        <div className=\"confetti-container\">\n            <Confetti active={explode1} config={config} />\n            <Confetti active={explode2} config={{ ...config, angle: 100 }} />\n        </div>\n    )\n}\n\nexport default GoalAchievementParty;","import { createContext, useEffect, useReducer, useState } from 'react';\nimport { reducer } from './state/appReducer';\nimport { initialState } from './state/initialState';\nimport './styles/styles.scss';\nimport './components/ChatBox';\nimport ChatBox from './components/ChatBox';\nimport dispatchHelper from './state/dispatchHelper';\nimport { getAuthorizedUser, getHabits } from './state/api';\nimport GoalAchievementParty from './components/GoalAchievementParty';\n\nexport const AppContext = createContext();\n\nconst App = () => {\n  const [appState, dispatch] = useReducer(reducer, initialState);\n  const [loading, setLoading] = useState(true);\n\n  const initializeApp = () => {\n    getAuthorizedUser(appState)\n    .then(() => {\n      getHabits()\n    })\n    .finally(() => setLoading(false));\n  }\n\n  useEffect(() => {\n    dispatchHelper.dispatch = (payload) => dispatch(payload);\n    Object.freeze(dispatchHelper);\n    initializeApp()\n  }, [])\n\n  return (\n    <AppContext.Provider value={{ appState, dispatch}}>\n      <div className=\"app\">\n        <header className=\"header\">Middi</header>\n        {!loading && <ChatBox loggedIn={false} />}\n      </div>\n      <GoalAchievementParty />\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}